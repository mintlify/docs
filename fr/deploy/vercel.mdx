---
title: "Vercel"
description: "Hébergez la documentation sur un sous-chemin personnalisé avec Vercel"
---

import { VercelJsonGenerator } from "/snippets/fr/vercel-json-generator.mdx";


<div id="verceljson-file">
  ## Fichier vercel.json
</div>

Le fichier `vercel.json` définit la façon dont votre projet est construit et déployé. Il se trouve à la racine de votre projet et contrôle divers aspects du déploiement, notamment le routage, les redirections, les en-têtes et les paramètres de build.

Nous utilisons la configuration `rewrites` pour mettre en proxy les requêtes depuis votre domaine principal vers votre documentation.

Les réécritures font pointer les requêtes entrantes vers d’autres destinations sans changer l’URL dans le navigateur. Lorsque quelqu’un visite `yoursite.com/docs`, Vercel récupère en interne le contenu depuis `your-subdomain.mintlify.dev/docs`, mais l’utilisateur voit toujours `yoursite.com/docs` dans son navigateur. Cela diffère des redirections, qui envoient les utilisateurs vers une autre URL.

Vous pouvez personnaliser le sous-chemin avec n’importe quelle valeur, comme `/docs`, `/help` ou `/guides`. Vous pouvez également utiliser des sous-chemins profondément imbriqués comme `/product/docs`.

<div id="configuration">
  ## Configuration
</div>

<div id="host-from-docs">
  ### Héberger depuis `/docs`
</div>

1. Accédez à la [configuration du domaine personnalisé](https://dashboard.mintlify.com/settings/deployment/custom-domain) dans votre Dashboard.
2. Activez l’option **Héberger à `/docs`**.

<Frame>
  <img alt="Capture d’écran de la page de configuration du domaine personnalisé. L’option « Héberger à `/docs` » est activée et mise en évidence par un rectangle orange." src="/images/subpath/toggle-light.png" className="block dark:hidden" />

  <img alt="Capture d’écran de la page de configuration du domaine personnalisé. L’option « Héberger à `/docs` » est activée et mise en évidence par un rectangle orange." src="/images/subpath/toggle-dark.png" className="hidden dark:block" />
</Frame>

3. Renseignez votre domain.
4. Sélectionnez **Ajouter un domain**.
5. Ajoutez les réécritures suivantes à votre fichier `vercel.json`. Remplacez `[subdomain]` par votre sous-domaine :

```json
  {
    "rewrites": [
      {
        "source": "/docs",
        "destination": "https://[subdomain].mintlify.dev/docs"
      },
      {
        "source": "/docs/:match*",
        "destination": "https://[subdomain].mintlify.dev/docs/:match*"
      }
    ]
  }
```

* **`source`**: Le modèle de chemin sur votre domain qui déclenche la réécriture.
* **`destination`**: La cible vers laquelle la requête doit être mise en proxy.
* **`:match*`**: Un caractère générique qui capture tous les segments de chemin après votre sous-chemin.

Pour en savoir plus, consultez [Configuring projects with vercel.json: Rewrites](https://vercel.com/docs/projects/project-configuration#rewrites) dans la documentation Vercel.


<div id="host-from-custom-path">
  ### Héberger depuis un chemin personnalisé
</div>

Pour utiliser un sous-chemin personnalisé (tout chemin autre que `/docs`), vous devez organiser vos fichiers de documentation dans votre référentiel pour qu’ils correspondent à la structure de ce sous-chemin. Par exemple, si votre documentation est hébergée à `yoursite.com/help`, vos fichiers de documentation doivent se trouver dans un répertoire `help/`.

Utilisez le générateur ci-dessous pour créer votre configuration de réécriture. Ajoutez les règles de réécriture à votre fichier `vercel.json`.

<VercelJsonGenerator />

<div id="using-external-proxies-with-vercel">
  ## Utiliser des proxys externes avec Vercel
</div>

Si vous utilisez un proxy externe (comme Cloudflare ou AWS CloudFront) devant votre déploiement Vercel, vous devez le configurer correctement pour éviter les conflits avec la vérification de domaine par Vercel et la délivrance des certificats SSL.

Une configuration de proxy incorrecte peut empêcher Vercel d’émettre des certificats SSL Let's Encrypt et provoquer des échecs de vérification de domaine.

Consultez les [fournisseurs pris en charge](https://vercel.com/guides/how-to-setup-verified-proxy#supported-providers-verified-proxy-lite) dans la documentation de Vercel.

<div id="required-path-allowlist">
  ### Liste d’autorisation des chemins requis
</div>

Votre proxy externe doit autoriser le trafic vers ces chemins spécifiques sans le bloquer, le rediriger ni le mettre fortement en cache :

- `/.well-known/acme-challenge/*` - Requis pour la vérification du certificat Let's Encrypt
- `/.well-known/vercel/*` - Requis pour la vérification du domain Vercel
- `/mintlify-assets/_next/static/*` - Requis pour les ressources statiques

Ces chemins doivent être transmis directement à votre déploiement Vercel sans modification.

<div id="header-forwarding-requirements">
  ### Exigences de transfert des en-têtes
</div>

Assurez-vous que votre proxy transmet correctement l’en-tête `HOST`. Sans un transfert correct des en-têtes, les requêtes de vérification échoueront.

<div id="testing-your-proxy-setup">
  ### Tester la configuration de votre proxy
</div>

Pour vérifier que votre proxy est correctement configuré :

1. Vérifiez que `https://[yourdomain].com/.well-known/vercel/` renvoie une réponse.
2. Assurez-vous que les certificats SSL sont correctement provisionnés dans votre Dashboard Vercel.
3. Vérifiez que la vérification du domain s’effectue correctement.