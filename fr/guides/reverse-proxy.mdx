---
title: "Proxy inverse"
description: "Configurer un proxy inverse personnalisé pour diffuser votre documentation"
---

<Note>
  Les configurations de proxy inverse ne sont prises en charge que pour les [forfaits Custom](https://mintlify.com/pricing?ref=reverse-proxy).
</Note>

Pour diffuser votre documentation via un proxy inverse personnalisé, vous devez configurer des règles de routage, des stratégies de mise en cache et le transfert des en-têtes.

Lorsque vous mettez en place un proxy inverse, surveillez les problèmes potentiels liés à la vérification de domaine, à l’émission des certificats SSL, aux parcours d’authentification, aux performances et au suivi analytique.

<div id="routing-configuration">
  ## Configuration du routage
</div>

Transférez ces chemins via un proxy vers votre sous-domaine Mintlify avec les stratégies de mise en cache indiquées :

| Chemin | Destination | Mise en cache |
|------|-------------|---------|
| `/.well-known/acme-challenge/*` | `<your-subdomain>.mintlify.app` | Aucune mise en cache |
| `/.well-known/vercel/*` | `<your-subdomain>.mintlify.app` | Aucune mise en cache |
| `/mintlify-assets/_next/static/*` | `<your-subdomain>.mintlify.app` | Mise en cache activée |
| `/*` | `<your-subdomain>.mintlify.app` | Aucune mise en cache |
| `/` | `<your-subdomain>.mintlify.app` | Aucune mise en cache |

<div id="required-header-configuration">
  ## Configuration d’en-têtes requise
</div>

Configurez votre proxy inverse avec les en-têtes suivants :

- **Origin** : Contient le sous-domaine cible `<your-subdomain>.mintlify.app`
- **X-Forwarded-For** : Préserve l’adresse IP du client
- **X-Forwarded-Proto** : Préserve le protocole d’origine (HTTP/HTTPS)
- **X-Real-IP** : Transmet la véritable adresse IP du client
- **User-Agent** : Transmet l’agent utilisateur

<Warning>
  Assurez-vous que l’en-tête `Host` n’est pas transmis
</Warning>

<div id="example-nginx-configuration">
  ## Exemple de configuration Nginx
</div>

```nginx
server {
    listen 80;
    server_name <your-domain>.com;

    # Chemins de vérification Let's Encrypt
    location ~ ^/\.well-known/acme-challenge/ {
        proxy_pass https://<your-subdomain>.mintlify.app;
        proxy_set_header Origin <your-subdomain>.mintlify.app;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header User-Agent $http_user_agent;

        # Désactiver la mise en cache pour les chemins de vérification
        add_header Cache-Control "no-cache, no-store, must-revalidate";
    }

    # Chemins de vérification Vercel
    location ~ ^/\.well-known/vercel/ {
        proxy_pass https://<your-subdomain>.mintlify.app;
        proxy_set_header Origin <your-subdomain>.mintlify.app;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header User-Agent $http_user_agent;

        # Désactiver la mise en cache pour les chemins de vérification
        add_header Cache-Control "no-cache, no-store, must-revalidate";
    }

    # Ressources statiques avec mise en cache
    location ~ ^/mintlify-assets/_next/static/ {
        proxy_pass https://<your-subdomain>.mintlify.app;
        proxy_set_header Origin <your-subdomain>.mintlify.app;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header User-Agent $http_user_agent;

        # Activer la mise en cache pour les ressources statiques
        add_header Cache-Control "public, max-age=86400";
    }

    # Chemin racine
    location = / {
        proxy_pass https://<your-subdomain>.mintlify.app;
        proxy_set_header Origin <your-subdomain>.mintlify.app;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header User-Agent $http_user_agent;

        # Désactiver la mise en cache pour le contenu dynamique
        add_header Cache-Control "no-cache, no-store, must-revalidate";
    }

    # Tous les autres chemins de documentation
    location / {
        proxy_pass https://<your-subdomain>.mintlify.app;
        proxy_set_header Origin <your-subdomain>.mintlify.app;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header User-Agent $http_user_agent;

        # Désactiver la mise en cache pour le contenu dynamique
        add_header Cache-Control "no-cache, no-store, must-revalidate";
    }
}
```

<div id="troubleshooting">
  ## Résolution des problèmes
</div>

<div id="404-error">
  ### Erreur 404
</div>

**Symptômes :** La documentation se charge, mais certaines fonctionnalités ne fonctionnent pas. Les appels à l’API échouent.

**Cause :** L’en-tête `Host` est transmis ou l’en-tête `Origin` est absent.

**Solution :**

- Supprimez la transmission de l’en-tête `Host`
- Définissez l’en-tête `Origin` sur `<your-subdomain>.mintlify.app`

<div id="performance-issues">
  ### Problèmes de performances
</div>

**Symptômes** : Lenteur au chargement des pages et décalages de mise en page.

**Cause** : Mauvaise configuration du cache.

**Solution** : Activez la mise en cache uniquement pour les chemins `/mintlify-assets/_next/static/*`.