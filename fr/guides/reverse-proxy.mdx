---
title: "Proxy inverse"
description: "Configurer un proxy inverse personnalisé pour diffuser votre documentation"
---

<Note>
  Les configurations de proxy inverse ne sont prises en charge que pour les [Custom plans](https://mintlify.com/pricing?ref=reverse-proxy).
</Note>

Pour diffuser votre documentation via un proxy inverse personnalisé, vous devez configurer des règles de routage, des stratégies de mise en cache et le transfert des en-têtes.

Lorsque vous mettez en place un proxy inverse, surveillez les problèmes potentiels liés à la vérification du domain, à l’approvisionnement des certificats SSL, aux parcours d’authentification, aux performances et au suivi Analytics.

<div id="routing-configuration">
  ## Configuration du routage
</div>

Redirigez ces chemins via un proxy vers votre sous-domaine Mintlify avec les stratégies de mise en cache indiquées :

| Chemin | Destination | Mise en cache |
|------|-------------|---------|
| `/.well-known/acme-challenge/*` | `<your-subdomain>.mintlify.app` | Aucun cache |
| `/.well-known/vercel/*` | `<your-subdomain>.mintlify.app` | Aucun cache |
| `/mintlify-assets/_next/static/*` | `<your-subdomain>.mintlify.app` | Cache activé |
| `/*` | `<your-subdomain>.mintlify.app` | Aucun cache |
| `/` | `<your-subdomain>.mintlify.app` | Aucun cache |

<div id="required-header-configuration">
  ## Configuration d’en-têtes requise
</div>

Configurez votre proxy inverse avec les en-têtes suivants :

- **Origin** : Contient le sous-domaine cible `<your-subdomain>.mintlify.app`
- **X-Forwarded-For** : Conserve l’adresse IP du client
- **X-Forwarded-Proto** : Conserve le protocole d’origine (HTTP/HTTPS)
- **X-Real-IP** : Transmet la véritable adresse IP du client
- **User-Agent** : Transmet l’agent utilisateur

<Avertissement>
  Assurez-vous que l’en-tête `Host` n’est pas transmis
</Avertissement>

<div id="example-nginx-configuration">
  ## Exemple de configuration Nginx
</div>

```nginx
server {
    listen 80;
    server_name <your-domain>.com;

    # Chemins de vérification Let's Encrypt
    location ~ ^/\.well-known/acme-challenge/ {
        proxy_pass https://<your-subdomain>.mintlify.app;
        proxy_set_header Origin <your-subdomain>.mintlify.app;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header User-Agent $http_user_agent;

        # Désactiver la mise en cache pour les chemins de vérification
        add_header Cache-Control "no-cache, no-store, must-revalidate";
    }

    # Chemins de vérification Vercel
    location ~ ^/\.well-known/vercel/ {
        proxy_pass https://<your-subdomain>.mintlify.app;
        proxy_set_header Origin <your-subdomain>.mintlify.app;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header User-Agent $http_user_agent;

        # Désactiver la mise en cache pour les chemins de vérification
        add_header Cache-Control "no-cache, no-store, must-revalidate";
    }

    # Ressources statiques avec mise en cache
    location ~ ^/mintlify-assets/_next/static/ {
        proxy_pass https://<your-subdomain>.mintlify.app;
        proxy_set_header Origin <your-subdomain>.mintlify.app;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header User-Agent $http_user_agent;

        # Activer la mise en cache pour les ressources statiques
        add_header Cache-Control "public, max-age=86400";
    }

    # Chemin racine
    location = / {
        proxy_pass https://<your-subdomain>.mintlify.app;
        proxy_set_header Origin <your-subdomain>.mintlify.app;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header User-Agent $http_user_agent;

        # Désactiver la mise en cache pour le contenu dynamique
        add_header Cache-Control "no-cache, no-store, must-revalidate";
    }

    # Tous les autres chemins de documentation
    location / {
        proxy_pass https://<your-subdomain>.mintlify.app;
        proxy_set_header Origin <your-subdomain>.mintlify.app;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header User-Agent $http_user_agent;

        # Désactiver la mise en cache pour le contenu dynamique
        add_header Cache-Control "no-cache, no-store, must-revalidate";
    }
}
```


<div id="troubleshooting">
  ## Dépannage
</div>

<div id="404-error">
  ### Erreur 404
</div>

**Symptômes** : La documentation se charge, mais les fonctionnalités ne fonctionnent pas. Les appels à l’API échouent.

**Cause** : L’en-tête `Host` est retransmis ou l’en-tête `Origin` est manquant.

**Solution** :

- Supprimez la retransmission de l’en-tête `Host`
- Définissez l’en-tête `Origin` sur `<your-subdomain>.mintlify.app`

<div id="performance-issues">
  ### Problèmes de performances
</div>

**Symptômes** : chargement lent des pages et décalages de mise en page.

**Cause** : configuration de la mise en cache incorrecte.

**Solution** : activez la mise en cache uniquement pour les chemins `/mintlify-assets/_next/static/*`.