---
title: "Installation de la CLI"
sidebarTitle: "Installation"
description: "Installez la CLI pour prévisualiser et développer votre documentation en local"
icon: "terminal"
---

<img
  className="block dark:hidden my-0 pointer-events-none"
  src="/images/installation/local-development-light.png"
/>
<img
  className="hidden dark:block my-0 pointer-events-none"
  src="/images/installation/local-development-dark.png"
/>

## Installation de la CLI

<Info>
  **Prérequis** : installez [Node.js](https://nodejs.org/en) avant de continuer.
</Info>

<Steps>
  <Step title="Installez la CLI.">
    Exécutez la commande suivante pour installer la [CLI](https://www.npmjs.com/package/mint) :

  <CodeGroup>
    ```bash npm
    npm i -g mint
    ```

    ```bash pnpm
    pnpm add -g mint
    ```
  </CodeGroup>

  </Step>
  <Step title="Prévisualisez en local.">
    Accédez à votre répertoire de documentation (où se trouve votre fichier `docs.json`) et exécutez la commande suivante :

    ```bash
    mint dev
    ```

    Un aperçu local de votre documentation sera disponible à l’adresse `http://localhost:3000`.
  </Step>
</Steps>

Sinon, si vous ne souhaitez pas installer la CLI globalement, vous pouvez exécuter un script ponctuel :

```bash
npx mint dev
```

## Mises à jour

Si votre aperçu local n’est pas synchronisé avec ce que vous voyez en production sur le web, mettez à jour votre CLI locale :

```bash
mint update
```

Si la commande `mint update` n’est pas disponible dans votre version locale, réinstallez la CLI avec la dernière version :

 <CodeGroup>
    ```bash npm
    npm i -g mint@latest
    ```

    ```bash pnpm
    pnpm add -g mint@latest
    ```
  </CodeGroup>

## Ports personnalisés

Par défaut, la CLI utilise le port 3000. Vous pouvez définir le port avec l’option `--port`. Pour exécuter la CLI sur le port 3333, par exemple, utilisez cette commande :

```bash
mint dev --port 3333
```

Si vous tentez d’utiliser un port déjà occupé, le prochain port disponible sera utilisé :

```mdx
Le port 3000 est déjà utilisé. Tentative avec 3001.
```

## Prévisualiser en tant que groupe spécifique

Si vous utilisez la Partial authentication pour restreindre l’accès à votre documentation, vous pouvez prévisualiser en tant que groupe d’authentification spécifique en utilisant l’option `--group [groupname]`.

Par exemple, si vous avez un groupe nommé `admin`, vous pouvez prévisualiser en tant que membre de ce groupe avec la commande :

```bash
mint dev --group admin
```

## Commandes supplémentaires

Bien que `mint dev` soit la commande la plus utilisée, d’autres commandes vous permettent de gérer votre documentation.

### Recherche de liens brisés

Le CLI peut vous aider à valider les liens de référence présents dans votre documentation. Pour identifier les liens brisés, utilisez la commande suivante :

```bash
mint broken-links
```

### Vérification de la spécification OpenAPI

Vous pouvez utiliser le CLI pour vérifier les erreurs dans votre fichier OpenAPI avec la commande suivante :

```bash
mint openapi-check <openapiFilenameOrUrl>
```

Vous pouvez fournir un nom de fichier (p. ex. `./openapi.yaml`) ou une URL (p. ex. `https://petstore3.swagger.io/api/v3/openapi.json`).

### Renommage de fichiers

Vous pouvez renommer des fichiers et mettre à jour toutes leurs références avec la commande suivante :

```bash
mint rename <oldFilename> <newFilename>
```

### Migration des pages d’endpoint MDX

Vous pouvez migrer des pages d’endpoint MDX vers des pages générées automatiquement à partir de votre spécification OpenAPI à l’aide de la commande suivante :

```bash
mint migrate-mdx
```

Cette commande convertit des pages d’endpoint MDX individuelles en pages générées automatiquement définies dans votre `docs.json`, déplace le contenu MDX vers l’extension `x-mint` de votre spécification OpenAPI et met à jour votre navigation. Consultez [Migrating from MDX](/fr/api-playground/migrating-from-mdx) pour plus de détails.

## Mise en forme

Lors du développement en local, nous recommandons d’utiliser des extensions dans votre IDE pour reconnaître et formater les fichiers `MDX`.

Si vous utilisez Cursor, Windsurf ou VS Code, nous recommandons l’[extension MDX pour VS Code](https://marketplace.visualstudio.com/items?itemName=unifiedjs.vscode-mdx) pour la coloration syntaxique, et [Prettier](https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode) pour le formatage du code.

Si vous utilisez JetBrains, nous recommandons le [plugin MDX pour IntelliJ IDEA](https://plugins.jetbrains.com/plugin/14944-mdx) pour la coloration syntaxique, et de configurer [Prettier](https://prettier.io/docs/webstorm) pour le formatage du code.

## Dépannage

<AccordionGroup>
  <Accordion title="Erreur : impossible de charger le module « sharp » avec l’environnement d’exécution darwin-arm64">
    Cela peut être dû à une version obsolète de Node. Essayez ce qui suit :

    1. Supprimez la version actuellement installée de la CLI mint : `npm uninstall -g mint`
    2. Mettez à jour vers Node.js.
    3. Réinstallez la CLI mint : `npm install -g mint`
  </Accordion>
  <Accordion title="Problème : erreur inconnue">
    **Solution** : À la racine de votre appareil, supprimez le dossier `~/.mintlify`. Ensuite, relancez `mint dev`.
  </Accordion>
  <Accordion title="Erreur : permission denied">
    Cela est dû à l’absence des autorisations requises pour installer globalement des packages Node.

    **Solution** : Essayez d’exécuter `sudo npm i -g mint`. Votre mot de passe vous sera demandé : c’est celui que vous utilisez pour déverrouiller votre ordinateur.
  </Accordion>
  <Accordion title="L’aperçu local ne correspond pas à l’affichage de mes docs sur le web">
    Cela est probablement dû à une version obsolète de la CLI.

   **Solution :** Exécutez `mint update` pour obtenir les dernières mises à jour.
  </Accordion>
  <Accordion title="mintlify vs. package mint">
    Si vous rencontrez des problèmes avec le package CLI, commencez par exécuter `npm ls -g`. Cette commande affiche les packages installés globalement sur votre machine.

    Si vous n’utilisez pas npm ou si vous ne le voyez pas dans la liste avec -g, essayez `which mint` pour localiser l’installation.
    
    Si vous avez un package nommé `mint` et un package nommé `mintlify` installés, vous devez désinstaller `mintlify`.
    
    1. Désinstallez l’ancien package :
    ```bash
      npm uninstall -g mintlify
    ```
    2. Videz le cache npm :
    ```bash
      npm cache clean --force
    ```
    3. Réinstallez le nouveau package :
    ```bash
    npm i -g mint
    ```
  </Accordion>
</AccordionGroup>
