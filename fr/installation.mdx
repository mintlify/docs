---
title: "Installation de l’interface en ligne de commande (CLI)"
description: "Utilisez la CLI pour prévisualiser et maintenir votre documentation en local"
---

<img className="block dark:hidden my-0 pointer-events-none" src="/images/installation/local-development-light.png" alt="Graphique décoratif représentant la CLI." />

<img className="hidden dark:block my-0 pointer-events-none" src="/images/installation/local-development-dark.png" alt="Graphique décoratif représentant la CLI." />

Utilisez la CLI pour prévisualiser votre documentation en local pendant que vous écrivez et modifiez. Affichez les changements en temps réel avant le déploiement, testez l’apparence et les fonctionnalités de votre site de documentation, et détectez des problèmes tels que des liens rompus ou des problèmes d’accessibilité.

La CLI propose également des utilitaires pour maintenir votre documentation, notamment des commandes pour renommer des fichiers, valider des spécifications OpenAPI et migrer du contenu entre différents formats.

<div id="install-the-cli">
  ## Installer l’interface en ligne de commande (CLI)
</div>

<Info>
  **Prérequis** : la CLI nécessite [Node.js](https://nodejs.org/en) v19 ou une version ultérieure.
</Info>

<Steps>
  <Step title="Installer la CLI">
    Exécutez la commande suivante pour installer la [CLI](https://www.npmjs.com/package/mint) :

    <CodeGroup>
      ```bash npm
      npm i -g mint
      ```

      ```bash pnpm
      pnpm add -g mint
      ```
    </CodeGroup>
  </Step>

  <Step title="Prévisualiser en local">
    Accédez à votre répertoire de documentation (là où se trouve votre fichier `docs.json`) et exécutez la commande suivante :

    ```bash
    mint dev
    ```

    Un aperçu local de votre documentation sera disponible à l’adresse `http://localhost:3000`.
  </Step>
</Steps>

Sinon, si vous ne souhaitez pas installer la CLI globalement, vous pouvez exécuter un script ponctuel :

```bash
npx mint dev
```

<div id="updates">
  ## Mises à jour
</div>

Si votre aperçu local n’est pas en phase avec ce que vous voyez en ligne dans la version de production, mettez à jour votre interface en ligne de commande (CLI) locale :

```bash
mint update
```

Si la commande `mint update` n’est pas disponible dans votre environnement local, réinstallez l’interface en ligne de commande (CLI) avec la dernière version :

<CodeGroup>
  ```bash npm
  npm i -g mint@latest
  ```

  ```bash pnpm
  pnpm add -g mint@latest
  ```
</CodeGroup>

<div id="custom-ports">
  ## Ports personnalisés
</div>

Par défaut, l’interface en ligne de commande (CLI) utilise le port 3000. Vous pouvez définir un port personnalisé à l’aide de l’option `--port`. Pour exécuter la CLI sur le port 3333, par exemple, utilisez cette commande :

```bash
mint dev --port 3333
```

Si vous essayez d’exécuter sur un port déjà utilisé, le prochain port disponible sera automatiquement choisi :

```mdx
Le port 3000 est déjà utilisé. Tentative sur le port 3001 à la place.
```

<div id="preview-as-a-specific-group">
  ## Prévisualiser en tant que groupe spécifique
</div>

Si vous utilisez une authentification partielle pour restreindre l’accès à votre documentation, vous pouvez prévisualiser en tant que membre d’un groupe d’authentification spécifique en utilisant l’option `--groups [groupname]`.

Par exemple, si vous avez un groupe nommé `admin`, vous pouvez prévisualiser en tant que membre de ce groupe avec la commande :

```bash
mint dev --groups admin
```

<div id="additional-commands">
  ## Commandes supplémentaires
</div>

<div id="find-broken-links">
  ### Rechercher les liens brisés
</div>

Identifiez les liens internes brisés avec la commande suivante :

```bash
mint broken-links
```

<div id="find-accessibility-issues">
  ### Détecter les problèmes d’accessibilité
</div>

Testez les rapports de contraste des couleurs et recherchez les textes alternatifs manquants pour les images et les vidéos de votre documentation avec la commande suivante :

```bash
mint a11y
```

<div id="check-openapi-spec">
  ### Vérifier la spécification OpenAPI
</div>

Vérifiez votre fichier OpenAPI à la recherche d’erreurs avec la commande suivante :

```bash
mint openapi-check <nom de fichier OpenAPI ou URL>
```

Passez un nom de fichier (par exemple « ./openapi.yaml ») ou une URL (par exemple « https://petstore3.swagger.io/api/v3/openapi.json »).

<div id="rename-files">
  ### Renommer des fichiers
</div>

Renommez les fichiers et mettez à jour toutes leurs références avec la commande suivante :

```bash
mint rename <chemin/vers/ancien-nom-de-fichier> <chemin/vers/nouveau-nom-de-fichier>
```

<div id="migrate-mdx-endpoint-pages">
  ### Migrer les pages d’endpoints MDX
</div>

Migrez les pages d’endpoints MDX vers des pages générées automatiquement à partir de votre spécification OpenAPI avec la commande suivante :

```bash
mint migrate-mdx
```

Cette commande convertit les pages MDX d’endpoint individuelles en pages générées automatiquement, telles que définies dans votre `docs.json`, déplace le contenu MDX vers l’extension `x-mint` de votre spécification OpenAPI, et met à jour votre navigation. Consultez [Migration depuis MDX](/fr/guides/migrating-from-mdx) pour plus de détails.

<div id="formatting">
  ## Mise en forme
</div>

Lors du développement en local, nous recommandons d’utiliser des extensions dans votre IDE pour reconnaître et formater les fichiers `MDX`.

Si vous utilisez Cursor, Windsurf ou VS Code, nous recommandons l’[extension MDX pour VS Code](https://marketplace.visualstudio.com/items?itemName=unifiedjs.vscode-mdx) pour la coloration syntaxique, ainsi que [Prettier](https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode) pour le formatage du code.

Si vous utilisez JetBrains, nous recommandons le [plug-in MDX pour IntelliJ IDEA](https://plugins.jetbrains.com/plugin/14944-mdx) pour la coloration syntaxique, ainsi que la configuration de [Prettier](https://prettier.io/docs/webstorm) pour le formatage du code.

<div id="troubleshooting">
  ## Dépannage
</div>

<AccordionGroup>
  <Accordion title="Erreur : impossible de charger le module &#x22;sharp&#x22; avec l’environnement d’exécution darwin-arm64">
    Cela peut être dû à une version obsolète de Node. Essayez ce qui suit :

    1. Désinstallez la version actuellement installée de l’interface en ligne de commande (CLI) Mint : `npm uninstall -g mint`
    2. Mettez à jour vers Node.js.
    3. Réinstallez la CLI Mint : `npm install -g mint`
  </Accordion>

  <Accordion title="Problème : erreur inconnue">
    **Solution** : Accédez à la racine de votre appareil et supprimez le dossier `~/.mintlify`. Ensuite, exécutez de nouveau `mint dev`.
  </Accordion>

  <Accordion title="Erreur : permission refusée">
    Cela est dû au fait que vous n’avez pas les autorisations nécessaires pour installer globalement des paquets Node.

    **Solution** : Essayez d’exécuter `sudo npm i -g mint`. Votre mot de passe vous sera demandé ; il s’agit de celui que vous utilisez pour déverrouiller votre ordinateur.
  </Accordion>

  <Accordion title="L’aperçu local n’a pas le même rendu que ma documentation en ligne">
    Cela est probablement dû à une version obsolète de la CLI.

    **Solution :** Exécutez `mint update` pour récupérer les dernières modifications.
  </Accordion>

  <Accordion title="mintlify vs. paquet mint">
    Si vous rencontrez des problèmes avec le paquet CLI, commencez par exécuter `npm ls -g`. Cette commande affiche les paquets installés globalement sur votre machine.

    Si vous n’utilisez pas npm ou ne le voyez pas dans la liste -g, essayez `which mint` pour localiser l’installation.

    Si vous avez un paquet nommé `mint` et un paquet nommé `mintlify` installés, vous devez désinstaller `mintlify`.

    1. Désinstallez l’ancien paquet :

    ```bash
      npm uninstall -g mintlify
    ```

    2. Videz le cache npm :

    ```bash
      npm cache clean --force
    ```

    3. Réinstallez le nouveau paquet :

    ```bash
    npm i -g mint
    ```
  </Accordion>
</AccordionGroup>