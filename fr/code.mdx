---
title: "Code"
description: "Afficher du code en ligne et des code blocks"
icon: "code"
---

<div id="adding-code-samples">
  ## Ajout d‚Äôexemples de code
</div>

Vous pouvez ajouter des extraits de code en ligne ou des code blocks. Les code blocks prennent en charge des options m√©ta pour la coloration syntaxique, les titles, la mise en √©vidence de lignes, les icons, et plus encore.

<div id="inline-code">
  ### Code en ligne
</div>

Pour indiquer qu‚Äôun `mot` ou une `expression` est du code, encadrez-le avec des accents graves (`).

```mdx
Pour d√©signer un `mot` ou une `phrase` comme du code, entourez-le de backticks (`).
```

<div id="code-blocks">
  ### Code blocks
</div>

Utilisez des [fenced code blocks](https://www.markdownguide.org/extended-syntax/#fenced-code-blocks) en entourant le code de trois backticks. Les code blocks sont copiables et, si vous avez activ√© l‚ÄôAssistant, les utilisateurs peuvent demander √† l‚ÄôIA d‚Äôexpliquer le code.

Indiquez le langage de programmation pour la coloration syntaxique et pour activer les options m√©ta. Ajoutez toutes les options m√©ta, comme un title ou un icon, apr√®s le langage.

```java HelloWorld.java lines icon="java"
class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Bonjour, monde !");
    }
}
```

````mdx
```java HelloWorld.java lines icon="java"
class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Bonjour le monde !");
    }
}
```
````

<div id="code-block-options">
  ## Options de code block
</div>

Vous pouvez ajouter des options m√©ta √† vos code blocks pour personnaliser leur apparence.

<Note>
  Vous devez sp√©cifier un langage de programmation pour un code block avant d&#39;ajouter d&#39;autres options m√©ta.
</Note>

<div id="option-syntax">
  ### Syntaxe des options
</div>

* **Options de cha√Ænes et bool√©ens** : Encadrez avec `""`, `''` ou sans guillemets.
* **Options d‚Äôexpression** : Encadrez avec `{}`, `""` ou `''`.

<div id="syntax-highlighting">
  ### Coloration syntaxique
</div>

Activez la coloration syntaxique en indiquant le langage de programmation apr√®s les backticks d‚Äôouverture d‚Äôun code block.

Nous utilisons [Shiki](https://shiki.style/) pour la coloration syntaxique et prenons en charge tous les langages disponibles. Consultez la liste compl√®te des [langages](https://shiki.style/languages) dans la documentation de Shiki.

```java
class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Bonjour, monde !");
    }
}
```

````mdx
```java
class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Bonjour, le monde !");
    }
}
```
````

<div id="twoslash">
  ### Twoslash
</div>

Dans les code blocks JavaScript et TypeScript, utilisez `twoslash` pour afficher des informations de type interactives. Les utilisateurs peuvent survoler des variables, des fonctions et des param√®tres pour consulter les types et les erreurs, comme dans un IDE.

```ts title="Twoslash Example" twoslash
type Pet = "cat" | "dog" | "hamster";

function adoptPet(name: string, type: Pet) {
  return `${name} le ${type} est maintenant adopt√© !`;
}

// Survolez pour voir les types inf√©r√©s
const message = adoptPet("Mintie", "cat");
```

````mdx
```ts title="Exemple Twoslash" twoslash
type Pet = "cat" | "dog" | "hamster";

function adoptPet(name: string, type: Pet) {
  return `${name} the ${type} is now adopted! üéâ`;
}

// Survolez pour voir les types inf√©r√©s
const message = adoptPet("Mintie", "cat");
```
````

<div id="title">
  ### Titre
</div>

Ajoutez un titre pour identifier votre exemple de code. Utilisez `title="Your title"` ou une cha√Æne sur une seule ligne.

```javascript Code Block Example
const hello = "monde";
```

````mdx
```javascript Exemple de bloc de code
const hello = "world";
```
````

<div id="icon">
  ### Ic√¥ne
</div>

Ajoutez un icon √† votre code block √† l&#39;aide de la propri√©t√© `icon`. Voir [Ic√¥nes](/fr/components/icons) pour toutes les options disponibles.

```javascript icon="square-js"
const hello = "monde";
```

````mdx
```javascript icon="square-js"
const hello = "world";
```
````

<div id="line-highlighting">
  ### Surlignage de lignes
</div>

Mettez en surbrillance des lignes sp√©cifiques dans vos code blocks en utilisant `highlight` avec les num√©ros de lignes ou les plages que vous souhaitez mettre en √©vidence.

```javascript Line Highlighting Example highlight= {1-2,5}
const greeting = "Bonjour, le monde !";
function sayHello() {
  console.log(greeting);
}
sayHello();
```

````mdx
```javascript Exemple de mise en √©vidence de lignes highlight={1-2,5}
const greeting = "Hello, World!";
function sayHello() {
  console.log(greeting);
}
sayHello();
```
````

<div id="line-focusing">
  ### Mise au point sur des lignes
</div>

Concentrez-vous sur des lignes sp√©cifiques dans vos code block en utilisant `focus` avec des num√©ros de ligne ou des intervalles.

```javascript Line Focus Example focus= {2,4-5}
const greeting = "Bonjour, le monde !";
function sayHello() {
  console.log(greeting);
}
sayHello();
```

````mdx
```javascript Exemple de mise en √©vidence de ligne focus={2,4-5}
const greeting = "Hello, World!";
function sayHello() {
  console.log(greeting);
}
sayHello();
```
````

<div id="show-line-numbers">
  ### Afficher les num√©ros de ligne
</div>

Affichez les num√©ros de ligne √† gauche de votre code block avec `lines`.

```javascript Show Line Numbers Example lines
const greeting = "Bonjour, le monde !";
function sayHello() {
  console.log(greeting);
}
sayHello();
```

````mdx
```javascript Show Line Numbers Exemple lines
const greeting = "Hello, World!";
function sayHello() {
  console.log(greeting);
}
sayHello();
```
````

<div id="expandable">
  ### D√©pliable
</div>

Permettez aux utilisateurs d‚Äôouvrir et de replier de longs code block √† l‚Äôaide de `expandable`.

```python Expandable Example expandable
from datetime import datetime, timedelta
from typing import Dict, List, Optional
from dataclasses import dataclass

@dataclass
class Book:
    title: str
    author: str
    isbn: str
    checked_out: bool = False
    due_date: Optional[datetime] = None

class Library:
    def __init__(self):
        self.books: Dict[str, Book] = {}
        self.checkouts: Dict[str, List[str]] = {}  # usager -> liste des ISBN

    def add_book(self, book: Book) -> None:
        if book.isbn in self.books:
            raise ValueError(f"Livre avec l'ISBN {book.isbn} existe d√©j√†")
        self.books[book.isbn] = book

    def checkout_book(self, isbn: str, patron: str, days: int = 14) -> None:
        if patron not in self.checkouts:
            self.checkouts[patron] = []

        book = self.books.get(isbn)
        if not book:
            raise ValueError("Livre introuvable")

        if book.checked_out:
            raise ValueError("Le livre est d√©j√† emprunt√©")

        if len(self.checkouts[patron]) >= 3:
            raise ValueError("L'usager a atteint la limite d'emprunt")

        book.checked_out = True
        book.due_date = datetime.now() + timedelta(days=days)
        self.checkouts[patron].append(isbn)

    def return_book(self, isbn: str) -> float:
        book = self.books.get(isbn)
        if not book or not book.checked_out:
            raise ValueError("Livre introuvable ou non emprunt√©")

        late_fee = 0.0
        if datetime.now() > book.due_date:
            days_late = (datetime.now() - book.due_date).days
            late_fee = days_late * 0.50

        book.checked_out = False
        book.due_date = None

        # Retirer des emprunts de l'usager
        for patron, books in self.checkouts.items():
            if isbn in books:
                books.remove(isbn)
                break

        return late_fee

    def search(self, query: str) -> List[Book]:
        query = query.lower()
        return [
            book for book in self.books.values()
            if query in book.title.lower() or query in book.author.lower()
        ]

def main():
    library = Library()

    # Ajouter quelques livres
    books = [
        Book("The Hobbit", "J.R.R. Tolkien", "978-0-261-10295-4"),
        Book("1984", "George Orwell", "978-0-452-28423-4"),
    ]

    for book in books:
        library.add_book(book)

    # Exemple d'emprunt et de retour
    library.checkout_book("978-0-261-10295-4", "patron123")
    late_fee = library.return_book("978-0-261-10295-4")
    print(f"Frais de retard : {late_fee:.2f} $")

if __name__ == "__main__":
    main()
```

````mdx
```python Exemple extensible expandable
from datetime import datetime, timedelta
from typing import Dict, List, Optional
from dataclasses import dataclass

# ...

if __name__ == "__main__":
    main()
```
````

<div id="wrap">
  ### Retour √† la ligne
</div>

Activez l‚Äôhabillage du texte pour les lignes longues avec `wrap`. Cela √©vite le d√©filement horizontal et facilite la lecture des lignes longues.

```javascript Wrap Example wrap
const greeting = "Bonjour, le monde ! Je suis une longue ligne de texte qui va passer √† la ligne suivante.";
function sayHello() {
  console.log(greeting);
}
sayHello();
```

````mdx
```javascript Exemple de retour √† la ligne
const greeting = "Bonjour, le monde ! Je suis une longue ligne de texte qui va se retourner √† la ligne suivante.";
function sayHello() {
  console.log(greeting);
}
sayHello();
```
````

<div id="diff">
  ### Diff
</div>

Affichez un diff visuel des lignes ajout√©es ou supprim√©es dans vos code blocks. Les lignes ajout√©es sont mises en √©vidence en vert et les lignes supprim√©es en rouge.

Pour cr√©er des diffs, ajoutez ces commentaires sp√©ciaux √† la fin des lignes dans votre code block :

* `// [!code ++]` : Marquez une ligne comme ajout√©e (mise en √©vidence en vert).
* `// [!code --]` : Marquez une ligne comme supprim√©e (mise en √©vidence en rouge).

Pour plusieurs lignes cons√©cutives, indiquez le nombre de lignes apr√®s un deux-points :

* `// [!code ++:3]` : Marquez la ligne actuelle plus les deux suivantes comme ajout√©es.
* `// [!code --:5]` : Marquez la ligne actuelle plus les quatre suivantes comme supprim√©es.

La syntaxe des commentaires doit correspondre √† votre langage de programmation (par exemple, `//` pour JavaScript ou `#` pour Python).

```js Diff Example icon="code" lines
const greeting = "Bonjour, le monde !"; // [!code ++]
function sayHello() {
  console.log("Bonjour, le monde !"); // [!code --]
  console.log(greeting); // [!code ++]
}
sayHello();
```

````text
```js Exemple Diff icon="code" lines
const greeting = "Hello, World!"; // [!code ++]
function sayHello() {
  console.log("Hello, World!"); // [!code --]
  console.log(greeting); // [!code ++]
}
sayHello();
```
````
