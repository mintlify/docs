---
title: "Vercel"
description: "Hébergez la documentation sur un sous-chemin personnalisé avec Vercel"
---

import { VercelJsonGenerator } from "/snippets/fr/vercel-json-generator.mdx";


<div id="verceljson-file">
  ## Fichier vercel.json
</div>

Le fichier `vercel.json` définit la façon dont votre projet est construit et déployé. Il se trouve à la racine de votre projet et contrôle divers aspects de votre déploiement, notamment le routage, les redirections, les en-têtes et les paramètres de build.

Nous utilisons la configuration `rewrites` pour faire transiter (proxy) les requêtes de votre domaine principal vers votre documentation.

Les réécritures font correspondre les requêtes entrantes à d’autres destinations sans modifier l’URL dans le navigateur. Lorsqu’une personne visite `yoursite.com/docs`, Vercel récupère en interne le contenu depuis `your-subdomain.mintlify.dev/docs`, mais l’utilisateur voit toujours `yoursite.com/docs` dans son navigateur. Cela diffère des redirections, qui enverraient les utilisateurs vers une URL complètement différente.

Vous pouvez personnaliser le sous-chemin avec la valeur de votre choix, comme `/docs`, `/help` ou `/guides`. Vous pouvez également utiliser des sous-chemins plus profondément imbriqués comme `/product/docs`.

<div id="repository-structure">
  ## Structure du référentiel
</div>

Vos fichiers de documentation doivent être organisés dans votre référentiel afin de correspondre à la structure de sous-chemin choisie. Par exemple, si vous souhaitez que votre documentation se trouve à `yoursite.com/docs`, créez un répertoire `docs/` contenant tous vos fichiers de documentation.

<div id="configuration">
  ## Configuration
</div>

Pour héberger votre documentation sous un sous-chemin personnalisé avec Vercel, ajoutez la configuration suivante à votre fichier `vercel.json`. Cet exemple utilise `/docs`, mais vous pouvez le remplacer par n’importe quel sous-chemin :

```json
{
  "rewrites": [
    {
      "source": "/docs",
      "destination": "https://[subdomain].mintlify.dev/docs"
    },
    {
      "source": "/docs/:match*",
      "destination": "https://[subdomain].mintlify.dev/docs/:match*"
    }
  ]
}
```

* **`source`**: Le modèle de chemin sur votre domaine qui déclenche la réécriture.
* **`destination`**: La destination vers laquelle la requête doit être mise en proxy.
* **`:match*`**: Un joker qui capture tous les segments de chemin après votre sous-chemin.

Pour en savoir plus, consultez la section [Configuring projects with vercel.json: Rewrites](https://vercel.com/docs/projects/project-configuration#rewrites) de la documentation Vercel.


<div id="generate-rewrites">
  ### Générer des redirections
</div>

Saisissez votre sous-domaine et le sous-répertoire personnalisé pour générer les règles de redirection dans votre fichier `vercel.json`.

<VercelJsonGenerator />

<div id="using-external-proxies-with-vercel">
  ## Utiliser des proxies externes avec Vercel
</div>

Si vous utilisez un proxy externe (comme Cloudflare ou AWS CloudFront) devant votre déploiement Vercel, vous devez le configurer correctement pour éviter les conflits avec la vérification du domain par Vercel et l’obtention des certificats SSL.

Une mauvaise configuration du proxy peut empêcher Vercel d’obtenir des certificats SSL Let's Encrypt et provoquer des échecs de vérification du domain.

Consultez les [fournisseurs pris en charge](https://vercel.com/guides/how-to-setup-verified-proxy#supported-providers-verified-proxy-lite) dans la documentation Vercel.

<div id="required-path-allowlist">
  ### Liste d’autorisation de chemins requise
</div>

Votre proxy externe doit autoriser le trafic vers ces chemins spécifiques sans le bloquer, le rediriger ni l’assujettir à une mise en cache agressive :

- `/.well-known/acme-challenge/*` - Requis pour la vérification du certificat Let's Encrypt
- `/.well-known/vercel/*` - Requis pour la vérification du domain Vercel
- `/mintlify-assets/_next/static/*` - Requis pour les ressources statiques

Ces chemins doivent être transmis directement à votre déploiement Vercel sans modification.

<div id="header-forwarding-requirements">
  ### Exigences de transmission des en-têtes
</div>

Assurez-vous que votre proxy transmet correctement l’en-tête `HOST`. Sans une transmission correcte des en-têtes, les requêtes de vérification échoueront.

<div id="testing-your-proxy-setup">
  ### Tester la configuration de votre proxy
</div>

Pour vérifier que votre proxy est correctement configuré :

1. Vérifiez que `https://[yourdomain].com/.well-known/vercel/` renvoie bien une réponse.
2. Assurez-vous que les certificats SSL sont correctement provisionnés dans votre Dashboard Vercel.
3. Vérifiez que la vérification du domain se termine avec succès.