---
title: "GitLab"
description: "Sincroniza tu documentación con un repositorio de GitLab"
icon: "gitlab"
---

Usamos una combinación de tokens de acceso y webhooks para autenticar y sincronizar
cambios entre GitLab y Mintlify.

- Usamos tokens de acceso para extraer información de GitLab.
- Usamos webhooks para que GitLab pueda notificar a Mintlify cuando se realicen cambios.
  - Esto permite que Mintlify cree despliegues de vista previa cuando se crea un MR.

## Configurar la conexión

<Steps>
  <Step title="Find your project ID">
    Dentro de tu proyecto de GitLab, ve a `Settings` > `General` y busca el `Project ID`.
    <Frame>
      <img src="/images/gitlab/gitlab-project-id.png" />
    </Frame>
  </Step>
  <Step title="Generate an access token">
    a. Ve a `Settings` > `Access Tokens`.

    b. Selecciona `Add new token`.
      1. Asigna al token el nombre "Mintlify".
      2. Si tienes un repositorio privado, debes establecer el rol como `Maintainer`.
      3. Elige `api` y `read_api` como ámbitos (scopes).

    c. Por último, haz clic en `Create project access token` y copia el token.

    <Frame>
      <img src="/images/gitlab/gitlab-project-access-token.png" />
    </Frame>

  </Step>
  <Step title="Set up the connection">
    En el panel de [Mintlify](https://dashboard.mintlify.com/settings/deployment/git-settings), agrega el Project ID y el access token de los pasos anteriores junto con las demás configuraciones. Haz clic en "Save Changes" cuando termines.
    <Frame>
      <img src="/images/gitlab/gitlab-config.png" />
    </Frame>
  </Step>
</Steps>

## Crear el webhook

Los webhooks nos permiten recibir eventos cuando se realizan cambios para
activar despliegues automáticamente.

<Steps>
  <Step title="Ve a Settings > Webhooks y haz clic en «Add new Webhook»">
    <Frame>
      <img src="/images/gitlab/gitlab-webhook.png" />
    </Frame>
  </Step>
  <Step title="Configura la URL y el webhook">
    En el campo «URL», ingresa el endpoint `https://leaves.mintlify.com/gitlab-webhook` y asigna al webhook el nombre «Mintlify».

  </Step>
  <Step title="Pega el token">
    Pega el token del webhook generado después de configurar la conexión.
    <Frame>
      <img src="/images/gitlab/gitlab-show-webtoken.png" />
    </Frame>
  </Step>
  <Step title="Selecciona eventos">
    Selecciona los eventos que dispararán el webhook:
      - Push events (All branches)
      - Merge requests events
      
    Cuando termines, debería verse así:
    <Frame>
      <img src="/images/gitlab/gitlab-project-webtoken.png" />
    </Frame>
  </Step>
  <Step title="Prueba el webhook">
    Después de crear el webhook, haz clic en el menú desplegable «Test» y selecciona «Push events» para enviar un payload de prueba y asegurarte de que esté configurado correctamente. Verás «Hook executed successfully: HTTP 200» si todo está bien.

    Esto te ayudará a verificar que todo funciona correctamente y que tu documentación se sincronizará adecuadamente con tu repositorio de GitLab.
    <Frame>
      <img src="/images/gitlab/gitlab-project-webtoken-test.png" />
    </Frame>

  </Step>
</Steps>

<Note>
  Comunícate con el equipo de Mintlify si necesitas ayuda. Contáctanos
  [aquí](https://mintlify.com/enterprise).
</Note>

[git-settings]: https://dashboard.mintlify.com/settings/deployment/git-settings
