---
title: "Vercel"
description: "Aloja la documentación en la subruta /docs con Vercel"
---

## archivo vercel.json

El archivo `vercel.json` es el archivo de configuración de Vercel que te permite personalizar cómo se compila y se despliega tu proyecto. Se encuentra en el directorio raíz de tu proyecto y controla varios aspectos del despliegue, incluidos el enrutamiento, las redirecciones, los encabezados y la configuración de compilación.

Usamos la propiedad `rewrites` para enrutar mediante proxy las solicitudes desde tu dominio principal hacia tu documentación.

Los rewrites te permiten asignar solicitudes entrantes a distintos destinos sin cambiar la URL en el navegador. Cuando alguien visita `yoursite.com/docs`, Vercel recuperará internamente el contenido de `your-subdomain.mintlify.dev/docs`, pero el usuario seguirá viendo `yoursite.com/docs` en su navegador. Esto es diferente de las redirecciones, que enviarían a los usuarios a una URL completamente distinta.

## Configuración

Para alojar tu documentación en una subruta personalizada `/docs` con Vercel, agrega la siguiente configuración a tu archivo `vercel.json`:

```json
{
  "rewrites": [
    {
      "source": "/docs",
      "destination": "https://[subdomain].mintlify.dev/docs"
    },
    {
      "source": "/docs/:match*",
      "destination": "https://[subdomain].mintlify.dev/docs/:match*"
    }
  ]
}
```

- **`source`**: El patrón de ruta en tu dominio que activa la reescritura.
- **`destination`**: El destino al que se debe enrutar la solicitud mediante proxy.
- **`:match*`**: Un comodín que captura cualquier segmento de ruta después de `/docs/`.

Para obtener más información, consulta [Configuring projects with vercel.json: Rewrites](https://vercel.com/docs/projects/project-configuration#rewrites) en la documentación de Vercel.

## Uso de proxies externos con Vercel

Si estás usando un proxy externo (como Cloudflare o AWS CloudFront) delante de tu despliegue de Vercel, debes configurarlo correctamente para evitar conflictos con la verificación de dominio de Vercel y el aprovisionamiento de certificados SSL.

Una configuración incorrecta del proxy puede impedir que Vercel aprovisione certificados SSL de Let's Encrypt y provocar fallos en la verificación de dominio.

Consulta los [proveedores compatibles](https://vercel.com/guides/how-to-setup-verified-proxy#supported-providers-verified-proxy-lite) en la documentación de Vercel.

### Lista obligatoria de rutas permitidas

Tu proxy externo debe permitir el tráfico a estas rutas específicas sin bloquear, redirigir ni aplicar caché de forma agresiva:

- `/.well-known/acme-challenge/*` - Requerida para la verificación de certificados de Let's Encrypt
- `/.well-known/vercel/*` - Requerida para la verificación de dominio de Vercel

Estas rutas deben pasar directamente a tu despliegue de Vercel sin modificación.

### Requisitos de reenvío de encabezados

Asegúrate de que tu proxy reenvíe correctamente el encabezado `HOST`. Sin un reenvío adecuado del encabezado, las solicitudes de verificación fallarán.

### Pruebas de tu configuración de proxy

Para verificar que tu proxy esté configurado correctamente:

1. Comprueba que `https://[yourdomain].com/.well-known/vercel/` devuelva una respuesta.
2. Asegúrate de que los certificados SSL se estén aprovisionando correctamente en tu panel de Vercel.
3. Verifica que la verificación de dominio se complete correctamente.
