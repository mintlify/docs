---
title: "Solución de problemas del firewall de Cloudflare"
description: "Soluciona solicitudes bloqueadas y problemas de configuración con las reglas WAF de Cloudflare."
keywords: ["Cloudflare WAF", "firewall rules", "Bot Fight Mode", "403 errors"]
---

Si tu sitio de documentación muestra errores 500 tras unos segundos o la navegación se vuelve lenta, el firewall de Cloudflare podría estar bloqueando solicitudes a los recursos de Mintlify.

<div id="symptoms">
  ## Síntomas
</div>

- La página de documentación carga inicialmente pero se bloquea con un error 500 después de 30–60 segundos
- Navegación del lado del cliente lenta o interrumpida entre páginas
- Errores 403 en la consola del navegador en solicitudes a las rutas `/mintlify-assets/*`
- Mensajes de Cloudflare sobre desafíos de seguridad por “datos malformados” o “patrones de URL sospechosos”

<div id="root-cause">
  ## Causa raíz
</div>

El Firewall de aplicaciones web (WAF) y el Bot Fight Mode de Cloudflare pueden marcar como sospechosas las solicitudes de recursos de Mintlify debido a:

- Múltiples símbolos «%» en parámetros de URL codificados
- Cadenas de consulta largas con caracteres especiales
- Solicitudes automatizadas desde pestañas inactivas

<div id="solution">
  ## Solución
</div>

Crea una regla de firewall en Cloudflare para excluir los recursos de Mintlify de las comprobaciones de seguridad.

<div id="create-the-firewall-exception">
  ### Crear la excepción del firewall
</div>

1. Inicia sesión en tu [dashboard de Cloudflare](https://dash.cloudflare.com/)
2. Selecciona tu domain
3. Ve a **Security > WAF**
4. Selecciona **Create rule**
5. Configura la regla con estos ajustes:

**Nombre de la regla:** Permitir assets de Mintlify

**Cuando las solicitudes entrantes coincidan:**

- Campo: `Hostname`
- Operador: `equals`
- Value: `docs.yourdomain.com` (reemplaza con tu domain real de documentación)

**Y:**

- Campo: `URI Path`
- Operador: `starts with`
- Value: `/mintlify-assets/`

**Entonces:**

- Acción: `Skip`
- Selecciona: `All remaining custom rules`, `Managed rules` y `Super Bot Fight Mode`

6. Activa **Log** para rastrear las solicitudes coincidentes
7. Selecciona **Deploy**

<div id="verify-the-rule">
  ### Verifica la regla
</div>

Después del despliegue:

1. Abre tu sitio de documentación en un navegador
2. Deja la página inactiva durante 2–3 minutos
3. Navega entre páginas
4. Revisa la consola del navegador en busca de errores 403

Si los problemas persisten, verifica la configuración de la regla:

- Asegúrate de que el hostname coincida exactamente con tu domain de docs
- Confirma que la ruta URI use `starts with` (no `contains`)
- No incluyas comodines (`*`) en el value de la ruta
- Verifica que la regla esté habilitada y desplegada

<div id="common-mistakes">
  ## Errores comunes
</div>

- Usar el operador `contains` con `/mintlify-assets/*` - El `*` se interpreta como un carácter literal, no como un comodín
- Usar `equals` para la ruta URI - Esto solo coincide con la ruta exacta `/mintlify-assets/` y no con subrutas
- Olvidar excluir Bot Fight Mode - Esto debe incluirse explícitamente en la acción de exclusión
- Nombre de host incorrecto - Debe coincidir con tu domain de documentación real

<div id="additional-troubleshooting">
  ## Solución de problemas adicional
</div>

Si la excepción del firewall no resuelve el problema:

1. Revisa el registro de **Security > Events** de Cloudflare para detectar solicitudes bloqueadas
2. Verifica que tu Cloudflare Worker (si usas una subruta personalizada) reenvíe correctamente el encabezado `Host`
3. Configura temporalmente el nivel de seguridad en “Essentially Off” para confirmar que Cloudflare es la causa
4. Revisa cualquier Page Rule personalizada que pueda anular la excepción del firewall

<div id="example-working-configuration">
  ## Ejemplo de configuración en funcionamiento
</div>

```
Regla: Permitir recursos de Mintlify
Estado: Habilitado

Cuando las solicitudes entrantes coincidan:
  (http.host eq "docs.flashnet.xyz" and starts_with(http.request.uri.path, "/mintlify-assets/"))

Entonces:
  Omitir: Todas las reglas personalizadas restantes, Reglas administradas, Modo Super Bot Fight
  Registro: Habilitado
```
