---
title: "Tipos de datos complejos"
description: "Describe APIs con esquemas flexibles, propiedades opcionales y múltiples formatos de datos usando las palabras clave `oneOf`, `anyOf` y `allOf`"
---

Cuando tu API admite múltiples formatos de datos, tiene campos condicionales o utiliza patrones de herencia, las palabras clave de composición de esquemas de OpenAPI te ayudan a documentar estas estructuras flexibles. Con `oneOf`, `anyOf` y `allOf`, puedes describir APIs que manejan distintos tipos de entrada o combinan múltiples esquemas en modelos de datos completos.

## Palabras clave `oneOf`, `anyOf`, `allOf`

Para tipos de datos complejos, OpenAPI proporciona palabras clave para combinar esquemas:

- `allOf`: Combina varios esquemas (como fusionar objetos o extender un esquema base). Funciona como un operador lógico `and`. 
- `anyOf`: Acepta datos que coincidan con cualquiera de los esquemas proporcionados. Funciona como un operador lógico `or`.
- `oneOf`: Acepta datos que coincidan exactamente con uno de los esquemas proporcionados. Funciona como un operador lógico `xor` (o exclusivo).

<Warning>Mintlify trata `oneOf` y `anyOf` de forma idéntica, ya que la diferencia práctica rara vez afecta el uso de la API.</Warning>

Para especificaciones detalladas de estas palabras clave, consulta la [documentación de OpenAPI](https://swagger.io/docs/specification/data-models/oneof-anyof-allof-not/).

<Info>La palabra clave `not` no es compatible por el momento.</Info>

### Combinación de esquemas con `allOf`

Cuando usas `allOf`, Mintlify realiza un preprocesamiento en tu documento de OpenAPI para mostrar combinaciones complejas de forma legible. Por ejemplo, cuando combinas dos esquemas de objeto con `allOf`, Mintlify fusiona las propiedades de ambos en un único objeto. Esto resulta especialmente útil al aprovechar los [componentes](https://swagger.io/docs/specification/components/) reutilizables de OpenAPI.

```yaml
org_with_users:
  allOf:
    - $ref: '#/components/schemas/Org'
    - type: object
      properties:
        users:
          type: array
          description: An array containing all users in the organization
# ...
components:
  schemas:
    Org:
      type: object
      properties:
        id:
          type: string
          description: The ID of the organization
```

<ParamField body="org_with_users" type="object">
  <Expandable>
    <ParamField body="id" type="string">
      El ID de la organización
    </ParamField>
    <ParamField body="users" type="object[]">
      Un arreglo que contiene a todos los usuarios de la organización
    </ParamField>
  </Expandable>
</ParamField>

### Proporcionar opciones con `oneOf` y `anyOf`

Cuando usas `oneOf` o `anyOf`, las opciones se muestran en un contenedor con pestañas. Especifica un campo `title` en cada subesquema para dar nombre a tus opciones. Por ejemplo, así podrías mostrar dos tipos diferentes de direcciones de entrega:

```yaml
delivery_address:
  oneOf:
    - title: StreetAddress
      type: object
      properties:
        address_line_1:
          type: string
          description: The street address of the recipient
        # ...
    - title: POBox
      type: object
      properties:
        box_number:
          type: string
          description: The number of the PO Box
        # ...
```

<ParamField body="delivery_address" type="object">
  <div className="mt-4 rounded-xl border border-gray-100 px-4 pb-4 pt-2 dark:border-white/10">
    <Tabs>
      <Tab title="StreetAddress">
        <ParamField body="address_line_1" type="string">
          La dirección de la calle de la residencia
        </ParamField>
      </Tab>
      <Tab title="POBox">
        <ParamField body="box_number" type="string">
          El número del apartado postal
        </ParamField>
      </Tab>
    </Tabs>
  </div>
</ParamField>
