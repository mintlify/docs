---
title: "AWS Route 53 and CloudFront"
sidebarTitle: "AWS"
description: "Host documentation at a /docs subdirectory using AWS services"
---

import Propagating from "/snippets/custom-subpath-propagating.mdx";

This guide walks you through configuring AWS CloudFront and Route 53 to serve your documentation at `/docs` while keeping your main site intact. You'll create a CloudFront distribution that routes `/docs` traffic to your Mintlify documentation and all other traffic to your primary site.

<Info>
Before starting, ensure you have AWS console access with permissions for CloudFront and Route 53. You'll also need your Mintlify subdomain (found in your dashboard) and a staging URL for your main site.
</Info>

## Set up CloudFront distribution

Navigate to [CloudFront](https://aws.amazon.com/cloudfront) in the AWS console and select **Create distribution**.

<Frame>
  ![CloudFront Create Distribution](/images/cloudfront/create-distribution.png)
</Frame>

For the origin domain, enter `[SUBDOMAIN].mintlify.dev` where `[SUBDOMAIN]` is your project's unique subdomain from the dashboard. Select **Use: [SUBDOMAIN].mintlify.dev** from the dropdown.

<Frame>![CloudFront Origin name](/images/cloudfront/origin-name.png)</Frame>

Under **Cache key and origin requests**, select **Caching Optimized**.

<Frame>
  ![CloudFront Caching policy](/images/cloudfront/caching-policy.png)
</Frame>

For **Web Application Firewall (WAF)**, enable security protections.

<Frame>
  ![CloudFront Security protections](/images/cloudfront/enable-security-protections.png)
</Frame>

Leave other settings as defaults and select **Create distribution**.

## Add your main site origin

After creating the distribution, go to the **Origins** tab.

<Frame>![CloudFront Origins](/images/cloudfront/origins.png)</Frame>

You need a staging URL that mirrors your main domain. This varies based on your hosting provider:

<Tip>
Common staging URL patterns:
- Webflow: `yoursite.webflow.io`
- Vercel: `yourproject.vercel.app`
- Netlify: `yourproject.netlify.app`
- GitHub Pages: `username.github.io/repository`
</Tip>

<Note>
Can't find your staging URL? Check your hosting provider's dashboard or contact support for help identifying the correct URL.
</Note>

Create a new origin using your staging URL as the **Origin domain**.

<Frame>
  ![CloudFront Default Origins](/images/cloudfront/default-origin.png)
</Frame>

You should now have two origins: your Mintlify subdomain and your main site's staging URL.

## Configure routing behaviors

Behaviors control how CloudFront routes requests. You'll create rules that send `/docs` traffic to your documentation and everything else to your main site.

Create three behaviors by selecting **Create behavior**:

### `/docs/*` behavior

Set **Path pattern** to `/docs/*` and **Origin and origin groups** to your `.mintlify.dev` URL.

<Frame>![CloudFront Behavior 1](/images/cloudfront/behavior-1.png)</Frame>

Set **Cache policy** to **CachingOptimized** and create the behavior.

### `/docs` behavior

Create another behavior with **Path pattern** `/docs` pointing to the same `.mintlify.dev` origin.

<Frame>![CloudFront Behavior 2](/images/cloudfront/behavior-2.png)</Frame>

### Update default behavior

Edit the **Default (*)** behavior to point to your main site's staging URL.

<Frame>
  ![CloudFront Behavior Default 1](/images/cloudfront/default-behavior-1.png)
</Frame>

Change **Origin and origin groups** to your staging URL and save changes.

<Frame>
  ![CloudFront Behavior Default 2](/images/cloudfront/default-behavior-2.png)
</Frame>

## Test your distribution

Go to the **General** tab and visit your **Distribution domain name** URL to test the setup.

<Frame>
  ![CloudFront Preview distribution](/images/cloudfront/preview-distribution.png)
</Frame>

Verify that:
- The root URL shows your main site
- Adding `/docs` to the URL displays your documentation

## Connect with Route 53

Now you'll route your primary domain through the CloudFront distribution.

<Note>
This follows AWS's guide on [routing traffic to a CloudFront distribution](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/routing-to-cloudfront-distribution.html#routing-to-cloudfront-distribution-config). You'll need Route 53 managing your domain's DNS.
</Note>

In [Route 53](https://aws.amazon.com/route53), open your domain's **Hosted zone** and select **Create record**.

<Frame>
  ![Route 53 create record](/images/cloudfront/route53-create-record.png)
</Frame>

Enable **Alias** and set **Route traffic to** as **Alias to CloudFront distribution**. Select your distribution from the dropdown.

<Frame>
  ![Route 53 create record alias](/images/cloudfront/create-record-alias.png)
</Frame>

Select **Create records**.

<Warning>
You may need to delete existing A records for your domain before creating the alias record.
</Warning>

Your documentation will now be available at `yourdomain.com/docs`.

<Propagating />
