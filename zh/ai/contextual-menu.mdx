---
title: "上下文菜单"
description: "为文档添加一键式 AI 集成"
icon: "square-menu"
---

import { PreviewButton } from "/snippets/previewbutton.jsx"
import IconsRequired from "/snippets/icons-required.mdx";

上下文菜单可快捷访问经 AI 优化的内容，并与主流 AI 工具直接集成。用户在任意页面打开上下文菜单时，可将内容复制为 AI 工具的上下文，或在 ChatGPT、Claude、Perplexity，或你自定义的工具中直接发起对话，且会自动载入你的文档作为上下文。

## 菜单选项

上下文菜单包含若干预设选项，你可以在配置中添加其标识符以启用。

| 选项 | 标识符 | 说明 |
|:--------|:------------|:-------------|
| **复制页面** | `copy` | 将当前页面复制为 Markdown，便于作为上下文粘贴到 AI 工具中 |
| **以 Markdown 查看** | `view` | 以 Markdown 打开当前页面 |
| **在 ChatGPT 中打开** | `chatgpt` | 以当前页面为上下文创建 ChatGPT 对话 |
| **在 Claude 中打开** | `claude` | 以当前页面为上下文创建 Claude 对话 |
| **在 Perplexity 中打开** | `perplexity` | 以当前页面为上下文创建 Perplexity 对话 |
| **复制 MCP 服务器 URL** | `mcp` | 将你的 MCP 服务器 URL 复制到剪贴板 |
| **连接到 Cursor** | `cursor` | 在 Cursor 中安装你托管的 MCP 服务器 |
| **连接到 VS Code** | `vscode` | 在 VS Code 中安装你托管的 MCP 服务器 |

<Frame>
    <img 
    src="/images/contextual-menu/contextual-menu.png" 
    alt="展开的上下文菜单，显示了“复制页面”、“以 Markdown 查看”、“在 ChatGPT 中打开”和“在 Claude 中打开”等菜单项。" 
  />
</Frame>

## 启用上下文菜单

在你的 `docs.json` 中添加 `contextual` 字段，并指定要包含的选项。

```json
{
 "contextual": {
   "options": [
     "copy",
     "view",
     "chatgpt",
     "claude",
     "perplexity",
     "mcp",
     "cursor",
     "vscode"
   ]
 }
}
```

## 添加自定义选项

在上下文菜单的 `options` 数组中添加一个对象即可创建自定义选项。每个自定义选项需要以下属性：

<ResponseField name="title" type="string" required>
  选项标题。
</ResponseField>

<ResponseField name="description" type="string" required>
  选项描述。展开上下文菜单时显示在标题下方。
</ResponseField>

<IconsRequired />

<ResponseField name="href" type="string | object" required>
  选项的 href。简单链接使用字符串；包含查询参数的动态链接使用对象。
  
  <Expandable title="href 对象">
    <ResponseField name="base" type="string" required>
      该选项的基础 URL。
    </ResponseField>

    <ResponseField name="query" type="object" required>
      该选项的查询参数。

      <Expandable title="query 对象">
        <ResponseField name="key" type="string" required>
          查询参数的键。
        </ResponseField>

        <ResponseField name="value" type="string" required>
          查询参数的值。我们会将以下占位符替换为对应的值：
          - 使用 `$page` 插入当前页面的 Markdown 内容。
          - 使用 `$path` 插入当前页面路径。
          - 使用 `$mcp` 插入托管的 MCP 服务器 URL。
        </ResponseField>
      </Expandable>
    </ResponseField>
  </Expandable>
</ResponseField>

自定义选项示例：

```json {9-14} wrap
{
    "contextual": {
        "options": [
            "copy",
            "view",
            "chatgpt",
            "claude",
            "perplexity",
            {
                "title": "Request a feature",
                "description": "Join the discussion on GitHub to request a new feature",
                "icon": "plus",
                "href": "https://github.com/orgs/mintlify/discussions/categories/feature-requests"
            }
        ]
    }
}
```

### 自定义选项示例

<AccordionGroup>
<Accordion title="简单链接">
```json
{
  "title": "Request a feature",
  "description": "Join the discussion on GitHub",
  "icon": "plus",
  "href": "https://github.com/orgs/mintlify/discussions/categories/feature-requests"
}
```
</Accordion>

<Accordion title="包含页面内容的动态链接">
```json
{
  "title": "Share on X",
  "description": "Share this page on X",
  "icon": "x",
  "href": {
    "base": "https://x.com/intent/tweet",
    "query": {
      "key": "text",
      "value": "Check out this documentation: $page"
    }
  }
}
```
</Accordion>
</AccordionGroup>