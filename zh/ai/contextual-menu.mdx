---
title: "上下文菜单"
description: "为你的文档添加一键 AI 集成"
icon: "square-menu"
---

import { PreviewButton } from "/snippets/previewbutton.jsx"
import IconsRequired from "/snippets/zh/icons-required.mdx";

上下文菜单可快速访问经AI优化的内容，并直接对接主流AI工具。用户在任意页面打开上下文菜单时，可以将内容复制为AI工具的上下文，或在 ChatGPT、Claude、Perplexity，或你自定义的工具中发起对话，并自动将你的文档作为上下文加载。

<div id="menu-options">
  ## 菜单选项
</div>

上下文菜单包含多个内置选项，你可以在配置中添加对应的标识符来启用。

| 选项 | 标识符 | 描述 |
|:--------|:------------|:-------------|
| **复制页面** | `copy` | 将当前页面复制为 Markdown，便于作为上下文粘贴到 AI 工具中 |
| **以 Markdown 查看** | `view` | 以 Markdown 形式打开当前页面 |
| **在 ChatGPT 中打开** | `chatgpt` | 以当前页面为上下文创建一个 ChatGPT 对话 |
| **在 Claude 中打开** | `claude` | 以当前页面为上下文创建一个 Claude 对话 |
| **在 Perplexity 中打开** | `perplexity` | 以当前页面为上下文创建一个 Perplexity 对话 |
| **复制 MCP 服务器 URL** | `mcp` | 将你的 MCP 服务器 URL 复制到剪贴板 |
| **连接到 Cursor** | `cursor` | 在 Cursor 中安装你托管的 MCP 服务器 |
| **连接到 VS Code** | `vscode` | 在 VS Code 中安装你托管的 MCP 服务器 |

<Frame>
    <img 
    src="/images/contextual-menu/contextual-menu.png" 
    alt="展开的上下文菜单，显示“复制页面”、“以 Markdown 查看”、“在 ChatGPT 中打开”和“在 Claude 中打开”等菜单项。" 
  />
</Frame>

<div id="enabling-the-contextual-menu">
  ## 启用上下文菜单
</div>

在你的 `docs.json` 文件中添加 `contextual` 字段，并指定要包含的选项。

```json
{
 "contextual": {
   "options": [
     "复制",
     "查看",
     "ChatGPT",
     "Claude",
     "Perplexity",
     "MCP",
     "Cursor",
     "VS Code"
   ]
 }
}
```

<div id="adding-custom-options">
  ## 添加自定义选项
</div>

通过向 `options` 数组添加一个对象，可在上下文菜单中创建自定义选项。每个自定义选项需要包含以下属性：

<ResponseField name="title" type="string" required>
  选项标题。
</ResponseField>

<ResponseField name="description" type="string" required>
  选项描述。展开上下文菜单时显示在标题下方。
</ResponseField>

<IconsRequired />

<ResponseField name="href" type="string | object" required>
  选项的 href。简单链接使用字符串，带查询参数的动态链接使用对象。

  <Expandable title="href object">
    <ResponseField name="base" type="string" required>
      该选项的基础 URL。
    </ResponseField>

    <ResponseField name="query" type="object" required>
      该选项的查询参数。

      <Expandable title="query object">
        <ResponseField name="key" type="string" required>
          查询参数的键。
        </ResponseField>

        <ResponseField name="value" type="string" required>
          查询参数的值。我们会将以下占位符替换为对应的值：

          * 使用 `$page` 插入当前页面的 Markdown 内容。
          * 使用 `$path` 插入当前页面路径。
          * 使用 `$mcp` 插入托管的 MCP 服务器 URL。
        </ResponseField>
      </Expandable>
    </ResponseField>
  </Expandable>
</ResponseField>

自定义选项示例：

```json {9-14} wrap
{
    "contextual": {
        "options": [
            "copy",
            "view",
            "chatgpt",
            "claude",
            "perplexity",
            {
                "title": "功能需求",
                "description": "前往 GitHub 参与讨论并提交新功能请求",
                "icon": "plus"
                "href": "https://github.com/orgs/mintlify/discussions/categories/feature-requests"
            }
        ]
    }
}
```

<div id="custom-option-examples">
  ### 自定义选项示例
</div>

<AccordionGroup>
<Accordion title="简单链接">
```json
{
  "title": "请求新功能",
  "description": "在 GitHub 上参与讨论",
  "icon": "plus",
  "href": "https://github.com/orgs/mintlify/discussions/categories/feature-requests"
}
```
</Accordion>

<Accordion title="包含页面内容的动态链接">
```json
{
  "title": "在 X 上分享",
  "description": "将此页面分享到 X",
  "icon": "x",
  "href": {
    "base": "https://x.com/intent/tweet",
    "query": [
      {
      "key": "text",
      "value": "查看这份文档：$page"
      }
    ]
  }
}
```
</Accordion>
</AccordionGroup>