---
title: 'MDX 设置'
description: '使用 `MDX` 为 API 端点生成文档页面'
---

你可以在单独的 `MDX` 文件中手动定义 API 端点，而不是使用 OpenAPI 规范。此方法为自定义内容提供灵活性，但我们建议在大多数项目中从 OpenAPI 规范文件生成 API 文档，因为它更易维护且功能更丰富。不过，为 API 创建 `MDX` 页面在记录小型 API 或进行原型设计时会很有用。

要使用 `MDX` 为 API 端点生成页面，请在 `docs.json` 中配置 API 设置，为每个端点创建单独的 `MDX` 文件，并使用如 `<ParamFields />` 等组件来定义参数。基于这些定义，Mintlify 会生成交互式 API 交互测试台、请求示例和响应示例。

<Steps>
  <Step title="配置你的 API">
    在 `docs.json` 文件中，定义基础 URL 和认证方式：

    ```json
     "api": {
      "mdx": {
        "server": "https://mintlify.com/api", // 多个基础 URL 使用字符串数组
        "auth": {
          "method": "key",
          "name": "x-api-key" // 选项：bearer、basic、key
        }
      }
    }
    ```

    如果想隐藏 API 交互测试台，请使用 `display` 字段。隐藏交互测试台时，无需包含认证方式。

    ```json
    "api": {
      "playground": {
        "display": "none"
      }
    }
    ```

    在[设置](/zh/settings#api-configurations)中查看完整的 API 配置列表。
  </Step>
  
  <Step title="创建端点页面">

    每个 API 端点页面都应有对应的 `MDX` 文件。在每个文件顶部定义 `title` 和 `api`：

    ```mdx
    ---
    title: 'Create new user'
    api: 'POST https://api.mintlify.com/user'
    ---
    ```

    你可以通过在路径中添加参数名并用 `{}` 包裹来指定路径参数：

    ```bash
    https://api.example.com/v1/endpoint/{userId}
    ```

    <Note>

    如果在 `docs.json` 中配置了 `server` 字段，你可以使用相对路径，例如 `/v1/endpoint`。

    </Note>

    你可以通过在 frontmatter 中添加 `playground` 来覆盖该页面的全局 API 交互测试台显示模式：

    ```mdx
    ---
    title: 'Create new user'
    api: 'POST https://api.mintlify.com/user'
    playground: 'none'
    ---
    ```

    - `playground: 'interactive'` - 显示交互式测试台。
    - `playground: 'simple'` - 显示可复制的端点，不含测试台。
    - `playground: 'none'` - 隐藏测试台。

  </Step>

  <Step title="将端点添加到文档中">
    在 `docs.json` 的 `navigation` 字段中添加路径，将端点页面加入侧边栏。参见[导航](/zh/navigation)了解更多文档结构说明。
  </Step>
</Steps>

## 启用认证

你可以在 `docs.json` 中添加一种认证方式，将其全局应用到所有页面，或按页面单独设置。

当同时存在全局与页面级设置时，页面级认证方式将覆盖全局设置。

### Bearer 令牌

<CodeGroup>

```json docs.json
"api": {
    "mdx": {
      "auth": {
        "method": "bearer"
      }
    }
}
```

```mdx Page Metadata
---
title: "Your page title"
authMethod: "bearer"
---
```

</CodeGroup>

### 基本认证

<CodeGroup>

```json docs.json
"api": {
    "mdx": {
      "auth": {
        "method": "basic"
      }
    }
}
```

```mdx Page Metadata
---
title: "Your page title"
authMethod: "basic"
---
```

</CodeGroup>

### API 密钥

<CodeGroup>

```json docs.json
"api": {
    "mdx": {
      "auth": {
        "method": "key",
        "name": "x-api-key"
      }
    }
}
```

```mdx Page Metadata
---
title: "Your page title"
authMethod: "key"
---
```

</CodeGroup>

### 无

在 `docs.json` 中设置默认值后，`none` 认证方式可用于在特定端点上禁用认证。

<CodeGroup>
```mdx Page Metadata
---
title: "Your page title"
authMethod: "none"
---
```
</CodeGroup>
