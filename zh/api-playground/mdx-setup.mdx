---
title: "手动创建 API 页面"
description: "使用 MDX 文件手动编写 API 端点文档。"
keywords: ["API 文档", "端点文档"]
---

你可以在单独的页面中手动定义 API 端点。此方法适用于小型 API 或原型制作。

<div id="setup">
  ## 设置
</div>

<Steps>
  <Step title="配置 API">
    在 `docs.json` 文件中定义基础 URL 和认证方式。

    ```json
    "api": {
      "mdx": {
        "server": "https://mintlify.com/api",
        "auth": {
          "method": "key",
          "name": "x-api-key"
        }
      }
    }
    ```

    如果要隐藏 API playground，将 `display` 字段设置为 `none`。隐藏 playground 时，无需配置认证方式。

    ```json
    "api": {
      "playground": {
        "display": "none"
      }
    }
    ```

    在 [Settings](/zh/organize/settings#api-configurations) 中查看完整的 API 配置列表。
  </Step>

  <Step title="创建端点页面">
    为每个端点创建一个 `MDX` 文件。在 frontmatter 中定义 `title` 和 `api`：

    ```mdx
    ---
    title: 'Create new user'
    api: 'POST https://api.mintlify.com/user'
    ---
    ```

    用 `{}` 包裹路径参数进行声明：

    ```bash
    https://api.example.com/v1/endpoint/{userId}
    ```

    <Tip>
      如果在 `docs.json` 中配置了 `server` 字段，可以使用类似 `/v1/endpoint` 的相对路径。
    </Tip>

    要为特定页面覆盖全局的 playground 显示模式，在 frontmatter 中添加 `playground`：

    ```mdx
    ---
    title: 'Create new user'
    api: 'POST https://api.mintlify.com/user'
    playground: 'none'
    ---
    ```

    选项：

    * `playground: 'interactive'` - 显示交互式 playground（默认）
    * `playground: 'simple'` - 显示可复制的端点，且不启用 playground
    * `playground: 'none'` - 完全隐藏 playground
  </Step>

  <Step title="添加参数与响应">
    使用 [parameter and response fields](/zh/components/fields) 来记录端点的参数和返回值。

    ```mdx
    <ParamField path="userId" type="string" required>
      用户的唯一标识符
    </ParamField>

    <ParamField body="email" type="string" required>
      用户的电子邮箱地址
    </ParamField>

    <ResponseField name="id" type="string" required>
      新创建用户的唯一标识符
    </ResponseField>

    <ResponseField name="email" type="string" required>
      用户的电子邮箱地址
    </ResponseField>
    ```
  </Step>

  <Step title="将端点添加到文档">
    通过更新 `docs.json` 中的 `pages` 字段，将端点页面添加到导航中。参见 [Navigation](/zh/organize/navigation) 了解更多文档结构相关内容。
  </Step>
</Steps>

<div id="enable-authentication">
  ## 启用身份验证
</div>

你可以在 `docs.json` 中设置全局身份验证，或在页面的 frontmatter 中通过 `authMethod` 字段为单个页面进行重写。页面级设置将覆盖全局设置。

<div id="bearer-token">
  ### Bearer 令牌
</div>

<CodeGroup>
  ```json docs.json
  "api": {
    "mdx": {
      "auth": {
        "method": "bearer"
      }
    }
  }
  ```

  ```mdx Page Metadata
  ---
  title: "页面标题"
  authMethod: "bearer"
  ---
  ```
</CodeGroup>

<div id="basic-authentication">
  ### 基本身份验证
</div>

<CodeGroup>
  ```json docs.json
  "api": {
    "mdx": {
      "auth": {
        "method": "basic"
      }
    }
  }
  ```

  ```mdx Page Metadata
  ---
  title: "页面标题"
  authMethod: "basic"
  ---
  ```
</CodeGroup>

<div id="api-key">
  ### API 密钥
</div>

<CodeGroup>
  ```json docs.json
  "api": {
    "mdx": {
      "auth": {
        "method": "key",
        "name": "x-api-key"
      }
    }
  }
  ```

  ```mdx Page Metadata
  ---
  title: "页面标题"
  authMethod: "key"
  ---
  ```
</CodeGroup>

<div id="none">
  ### 无
</div>

要在特定页面禁用身份验证，请将 `authMethod` 设置为 `none`：

```mdx Page Metadata
---
title: "您的页面标题"
authMethod: "none"
---
```
