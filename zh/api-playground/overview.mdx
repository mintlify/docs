---
title: "API交互测试台"
description: "让用户与您的 API 进行交互"
icon: "play"
---

## 概览

API交互测试台是一个交互式环境，允许用户测试和探索你的API端点。开发者可以构建API请求、提交请求，并在不离开文档的情况下查看响应。

<Frame>
  <img src="/images/playground/API-playground-light.png" alt="用于触发更新端点的API交互测试台。" className="block dark:hidden" />
  <img src="/images/playground/API-playground-dark.png" alt="用于触发更新端点的API交互测试台。" className="hidden dark:block" />
</Frame>

交互测试台会根据你的OpenAPI规范或AsyncAPI架构自动生成，因此对API的任何更新都会自动反映在测试台中。在你的`docs.json`中定义基础URL和认证方式后，你也可以手动创建API参考页面。

我们建议基于OpenAPI规范生成API交互测试台。参见[OpenAPI 设置](/zh/api-playground/openapi-setup)以了解如何创建OpenAPI文档的更多信息。

## 入门

<Steps>
  <Step title="添加你的 OpenAPI 规范文件。">
    <Info>
    使用 [Swagger Editor](https://editor.swagger.io/) 或 [Mint CLI](https://www.npmjs.com/package/mint) 验证你的 OpenAPI 规范文件是否有效。
    </Info>

    ```bash {2}
    /your-project
      |- docs.json
      |- openapi.json
    ```

  </Step>
  <Step title="配置 `docs.json`。">
    更新 `docs.json` 以引用你的 OpenAPI 规范。在任一导航元素上添加 `openapi` 属性，可根据 OpenAPI 文档中声明的每个端点自动生成相应页面并填充到文档中。

    下例会为 `openapi.json` 中的每个端点生成一个页面，并将它们归类到导航的 “API reference” 分组下。

    ```json
    "navigation": {
      "groups": [
        {
          "group": "API reference",
          "openapi": "openapi.json"
        }
      ]
    }
    ```

    如仅需为特定端点生成页面，请在该导航元素的 `pages` 属性中列出这些端点。

    下例仅为 `GET /users` 和 `POST /users` 端点生成页面。要生成其他端点页面，请将更多端点添加到 `pages` 数组中。
    
    ```json
    "navigation": {
      "groups": [
          {
            "group": "API reference",
            "openapi": "openapi.json",
            "pages": [
              "GET /users",
              "POST /users"
            ]
          }
      ]
    }
    ```

  </Step>
</Steps>

## 自定义交互测试台

你可以在 `docs.json` 中定义以下属性来自定义 API交互测试台。

<ResponseField name="playground" type="object">
    API交互测试台的配置。
    <Expandable title="playground" defaultOpen="True">
    <ResponseField name="display" type="&quot;interactive&quot; | &quot;simple&quot; | &quot;none&quot;">
        API交互测试台的显示模式。
        - `"interactive"`：显示交互式测试台。
        - `"simple"`：仅显示可复制的端点，不包含测试台。
        - `"none"`：不显示任何内容。

        默认为 `interactive`。
    </ResponseField>
    <ResponseField name="proxy" type="boolean" defaultOpen="True">
        是否通过代理服务器转发 API 请求。默认为 `true`。
    </ResponseField>
    </Expandable>
</ResponseField>

<ResponseField name="examples" type="object">
    自动生成的 API 示例配置。
    <Expandable title="examples" defaultOpen="True">
    <ResponseField name="languages" type="array of string">
        自动生成的 API 代码片段所使用的示例语言。

        语言将按指定顺序显示。
    </ResponseField>
        <ResponseField name="defaults" type="&quot;required&quot; | &quot;all&quot;">
        是否在 API 示例中显示可选参数。默认为 `all`。
    </ResponseField>
    </Expandable>
</ResponseField>

### 配置示例

```json
{
 "api": {
   "playground": {
     "display": "interactive"
   },
   "examples": {
     "languages": ["curl", "python", "javascript"],
     "defaults": "required"
   }
 }
}
```

此示例将 API交互测试台配置为交互式，并提供 cURL、Python 和 JavaScript 的示例代码片段。代码片段中仅显示必填参数。

### 自定义端点页面

当你需要对 API 文档进行更精细的控制时，可在 OpenAPI 规范中使用 `x-mint` 扩展，或为各个端点创建独立的 `MDX` 页面。

这两种方式都允许你：
- 自定义页面元数据
- 添加示例等附加内容
- 按页面控制交互测试台的行为

推荐使用 `x-mint` 扩展，以便所有 API 文档都能从你的 OpenAPI 规范自动生成，并集中维护在单个文件中。

对于小型 API，或当你想按页面尝试更改时，推荐使用独立的 `MDX` 页面。

更多信息参见 [x-mint extension](/zh/api-playground/openapi-setup#x-mint-extension) 和 [MDX Setup](/zh/api-playground/mdx/configuration)。

## 延伸阅读

- [AsyncAPI 设置](/zh/api-playground/asyncapi/setup)，了解如何创建 AsyncAPI 架构以生成 WebSocket 参考页面。
