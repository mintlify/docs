---
title: "可重用片段"
description: "自定义可重用片段，确保内容一致"
icon: "recycle"
---

软件开发的核心原则之一是 DRY（Don't Repeat Yourself，即“不要重复自己”），这同样适用于文档。如果你发现自己在多个位置重复相同内容，应创建自定义片段以保持内容一致。

## 创建自定义片段（Snippets）

**前置条件**：必须在 `snippets` 目录中创建片段文件，导入才会生效。

`snippets` 目录中的任何页面都会被视为片段，不会渲染为独立页面。若希望从片段生成独立页面，请将该片段导入到另一个文件中并以组件形式调用。

### 默认导出

1. 将你想要复用的内容添加到片段文件中。你也可以选择添加在导入片段时通过 props 传入的变量。本示例中的变量为 word。

```typescript snippets/my-snippet.mdx
Hello world! This is my content I want to reuse across pages. 
```

2. 将片段导入到目标文件中。

```typescript destination-file.mdx
---
title: My title
description: My Description
---

import MySnippet from '/snippets/path/to/my-snippet.mdx';

## Header

Lorem impsum dolor sit amet.

<MySnippet/>

```

### 带变量的导出

1. 你也可以选择添加在导入片段时通过 props 传入的变量。本示例中的变量为 word。

```typescript snippets/my-snippet.mdx
My keyword of the day is {word}.
```

2. 在目标文件中导入带变量的片段。该属性将根据你的传入值进行填充。

```typescript destination-file.mdx
---
title: My title
description: My Description
---

import MySnippet from '/snippets/path/to/my-snippet.mdx';

## Header

Lorem impsum dolor sit amet.

<MySnippet word="bananas" />

```

### 可复用变量

1. 从片段文件中导出变量：

```typescript snippets/path/to/custom-variables.mdx
export const myName = 'my name';

export const myObject = { fruit: 'strawberries' };
```

2. 在目标文件中导入片段并使用这些变量：

```typescript destination-file.mdx
---
title: My title
description: My Description
---

import { myName, myObject } from '/snippets/path/to/custom-variables.mdx';

Hello, my name is {myName} and I like {myObject.fruit}.
```

### JSX 片段

1. 从片段文件中导出一个 JSX 组件。（参见 [React components](/zh/react-components) 了解更多信息）：

```js icon=square-js snippets/my-jsx-snippet.jsx
export const MyJSXSnippet = () => {
  return (
    <div>
      <h1>Hello, world!</h1>
    </div>
  )
}
```

<Note>
  重要：创建 JSX 片段时，请使用箭头函数语法（`=>`），而不是函数声明。在此上下文中不支持 `function` 关键字。
</Note>

2. 在目标文件中导入该片段并使用该组件：

```typescript destination-file.mdx
---
title: My title
description: My Description
---

import { MyJSXSnippet } from '/snippets/my-jsx-snippet.jsx';

<MyJSXSnippet />
```