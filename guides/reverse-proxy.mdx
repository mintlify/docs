---
title: "Custom reverse proxy"
description: "Configure a custom reverse proxy to serve Mintlify documentation"
---

import Propagating from "/snippets/custom-subpath-propagating.mdx";

Custom reverse proxy configurations are **not officially supported** without an enterprise contract. To serve your Mintlify documentation through a custom reverse proxy, you need to configure specific routing rules, caching policies, and header forwarding to ensure proper functionality.

## High-level overview

Configure your reverse proxy with these routing and caching rules:

### Route traffic to these paths **without caching**:

- `/.well-known/acme-challenge/*` -> `<your-subdomain>.mintlify.app`
- `/.well-known/vercel/*` -> `<your-subdomain>.mintlify.app`
- `/*` -> `<your-subdomain>.mintlify.app`
- `/` -> `<your-subdomain>.mintlify.app`

###  Route traffic to these paths **with caching**:

- `/mintlify-assets/_next/static/*` -\> `<your-subdomain>.mintlify.app/mintlify-assets/_next/static/`

## Required header configuration

Your reverse proxy must forward these headers:

1. **Origin header**: Must be set to `<your-subdomain>.mintlify.app`
2. **X-Forwarded-For**: Preserve client IP information
3. **X-Forwarded-Proto**: Preserve original protocol (HTTP/HTTPS)
4. **X-Real-IP**: Forward the real client IP address

```nginx
# Example nginx configuration
location / {
    proxy_pass https://<your-subdomain>.mintlify.app/;
    
    # CRITICAL: Set the correct origin header
    proxy_set_header Origin <your-subdomain>.mintlify.app;
    
    # Forward client information
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto $scheme;
    
    # DO NOT forward the Host header - this will break functionality
    # proxy_set_header Host $host;  # ‚Üê DO NOT INCLUDE THIS LINE
}
```

<Warning>
  Ensure that the `Host` header is not forwarded
</Warning>

## Example configurations

### nginx

```nginx
server {
    listen 80;
    server_name yourdomain.com;
    
    # Let's Encrypt and Vercel verification paths
    location ~ ^/\.well-known/(acme-challenge|vercel)/ {
        proxy_pass https://<your-subdomain>.mintlify.app;
        proxy_set_header Origin <your-subdomain>.mintlify.app;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # Disable caching for verification paths
        proxy_cache off;
        add_header Cache-Control "no-cache, no-store, must-revalidate";
    }
    
    # Static assets with caching
    location ~ ^/mintlify-assets/_next/static/ {
        proxy_pass https://<your-subdomain>.mintlify.app;
        proxy_set_header Origin <your-subdomain>.mintlify.app;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # Enable caching for static assets
        proxy_cache_valid 200 1d;
        add_header Cache-Control "public, max-age=86400";
    }
    
    # All other documentation paths
    location / {
        proxy_pass https://<your-subdomain>.mintlify.app/;
        proxy_set_header Origin <your-subdomain>.mintlify.app;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # Disable caching for dynamic content
        proxy_cache off;
        add_header Cache-Control "no-cache, no-store, must-revalidate";
    }
}
```

<Propagating />

## Common issues and troubleshooting

### 404 Error Not Found

**Symptoms**: Documentation loads but features don't work, API calls fail

**Cause**: Host header is being forwarded or Origin header is missing

**Solution**:

- Remove `Host` header forwarding
- Set `Origin` header to `<your-subdomain>.mintlify.app`

### Performance issues

**Symptoms**: Slow page loads and layout shifts.

**Cause**: Incorrect caching configuration

**Solution**: Enable caching only for `/mintlify-assets/_next/static/*` paths

## Support limitations

<Warning>
  Custom reverse proxy configurations are **not officially supported** without an enterprise contract. Common issues include:

  - Domain verification failures
  - SSL certificate provisioning problems
  - Broken authentication flows
  - Performance degradation
  - Analytics tracking issues
</Warning>