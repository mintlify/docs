---
title: "Tutorial: Build an in-app documentation assistant"
sidebarTitle: "Build an in-app assistant"
description: "Embed the assistant in your application to answer questions with information from your documentation"
---

## What you will build

A reusable widget that embeds the [assistant](/ai/assistant) directly in your application. The widget provides:

- A floating button that opens a chat panel when clicked
- Real-time streaming responses based on information from your documentation
- Message rendering with Markdown support

Users can use the widget to get help with your product without leaving your application.

## Prerequisites

- [Mintlify Pro or Custom plan](https://mintlify.com/pricing)
- Your domain name, which appears at the end of your dashboard URL. For example, if your dashboard URL is `https://dashboard.mintlify.com/org-name/domain-name`, your domain name is `domain-name`
- An [assistant API key](https://dashboard.mintlify.com/settings/organization/api-keys)
- Node.js v18 or higher and npm installed
- Basic React knowledge

### Get your assistant API key

1. Navigate to the [API keys](https://dashboard.mintlify.com/settings/organization/api-keys) page in your dashboard.
2. Click **Create Assistant API Key**.
3. Copy the assistant API key (starts with `mint_dsc_`) and save it securely.

<Note>
  The assistant API key is a public token that can be used in frontend code. Calls using this token count toward your plan's message allowance and can incur overages.
</Note>

## Set up the example

The quickest way to get started is to clone the [example repository](https://github.com/mintlify/assistant-embed-example) and customize it for your needs.

<Steps>
<Step title="Clone the repository">

```bash
git clone https://github.com/mintlify/assistant-embed-example.git
cd assistant-embed-example
npm install
```

</Step>
<Step title="Configure your project">

Open `src/config.js` and update with your Mintlify project details:

```js src/config.js
export const ASSISTANT_CONFIG = {
  domain: 'your-domain',
  docsURL: 'https://yourdocs.mintlify.app',
};
```

Replace:
- `your-domain` with your Mintlify project domain found at the end of your dashboard URL.
- `https://yourdocs.mintlify.app` with your actual documentation URL.

</Step>
<Step title="Add your API token">

Create a `.env` file in the project root:

```bash .env
VITE_MINTLIFY_TOKEN=mint_dsc_your_token_here
```

Replace `mint_dsc_your_token_here` with your assistant API key.

</Step>
<Step title="Start the development server">

```bash
npm run dev
```

Open your application in a browser and click the **Ask** button to open the assistant widget.

</Step>
</Steps>

## Project structure

The example uses a clean, component-based architecture:

```
src/
├── App.jsx                 # Main app component that imports and uses AssistantWidget
├── config.js              # Configuration (domain and docsURL)
├── utils.js               # Helper functions for parsing suggestions and extracting sources
└── components/
    ├── AssistantWidget.jsx # Main widget component with chat state and API logic
    └── Message.jsx         # Individual message component for rendering user and assistant messages
```

**Key files:**

- **`src/config.js`**: Centralized configuration. Update this file when you want to change your domain or docs URL.
- **`src/components/AssistantWidget.jsx`**: The main widget component. Manages the open/close state, chat messages, and API calls.
- **`src/components/Message.jsx`**: Renders individual messages with support for Markdown, suggestion links, and source citations.
- **`src/utils.js`**: Contains utility functions for parsing the assistant's response format.

## Customization ideas

This guide shows a minimal working implementation. This section shows some ways to begin customizing your assistant widget.

The [example repository](https://github.com/mintlify/assistant-embed-example) includes several of these customizations already implemented, including color customization, positioning options, and source citations.

### Add color customization

Accept color props and use them for theming:

```jsx
export function AssistantWidget({ domain, buttonColor = '#2563eb' }) {
  // ... rest of component
  return (
    <>
      <button
        style={{ backgroundColor: buttonColor }}
        // ... rest of button
      >
```

### Add widget positioning options

Position the widget in different corners:

```jsx
export function AssistantWidget({ domain, position = 'bottom-right' }) {
  const positions = {
    'bottom-right': 'bottom-4 right-4',
    'bottom-left': 'bottom-4 left-4',
    'top-right': 'top-4 right-4',
    'top-left': 'top-4 left-4',
  };

  return (
    <>
      <button className={`fixed ${positions[position]} ...`}
```

### Source citations

Extract and display sources from assistant responses:

```jsx
const extractSources = (parts) => {
  return parts
    ?.filter(p => p.type === 'tool-invocation' && p.toolInvocation?.toolName === 'search')
    .flatMap(p => p.toolInvocation?.result || [])
    .map(source => ({
      url: source.url || source.path,
      title: source.metadata?.title || source.path,
    })) || [];
};

// In your message rendering:
{messages.map((message) => {
  const sources = message.role === 'assistant' ? extractSources(message.parts) : [];
  return (
    <div key={message.id}>
      {/* message content */}
      {sources.length > 0 && (
        <div className="mt-2 text-xs">
          <p className="font-semibold">Sources:</p>
          {sources.map((s, i) => (
            <a key={i} href={s.url} target="_blank" className="text-blue-600">
              {s.title}
            </a>
          ))}
        </div>
      )}
    </div>
  );
})}
```

### Track conversation thread IDs

Store thread IDs to maintain conversation history across sessions:

```jsx
import { useState, useEffect } from 'react';

export function AssistantWidget({ domain, docsURL }) {
  const [threadId, setThreadId] = useState(null);

  useEffect(() => {
    // Retrieve saved thread ID from localStorage
    const saved = localStorage.getItem('assistant-thread-id');
    if (saved) {
      setThreadId(saved);
    }
  }, []);

  const { messages, input, handleInputChange, handleSubmit, isLoading } = useChat({
    api: `https://api-dsc.mintlify.com/v1/assistant/${domain}/message`,
    headers: {
      'Authorization': `Bearer ${import.meta.env.VITE_MINTLIFY_TOKEN}`,
    },
    body: {
      fp: 'anonymous',
      retrievalPageSize: 5,
      ...(threadId && { threadId }), // Include thread ID if available
    },
    streamProtocol: 'data',
    sendExtraMessageFields: true,
    fetch: async (url, options) => {
      const response = await fetch(url, options);
      const newThreadId = response.headers.get('x-thread-id');
      if (newThreadId) {
        setThreadId(newThreadId);
        localStorage.setItem('assistant-thread-id', newThreadId);
      }
      return response;
    },
  });

  // ... rest of component
}
```

### Add keyboard shortcuts

Allow users to open the widget and submit messages with keyboard shortcuts:

```jsx
useEffect(() => {
  const handleKeyDown = (e) => {
    // Cmd/Ctrl + Shift + I to toggle widget
    if ((e.metaKey || e.ctrlKey) && e.shiftKey && e.key === 'I') {
      e.preventDefault();
      setIsOpen(!isOpen);
    }

    // Enter (when widget is focused) to submit
    if (isOpen && e.key === 'Enter' && !e.shiftKey && document.activeElement.id === 'assistant-input') {
      e.preventDefault();
      handleSubmit();
      setInput('');
    }
  };

  window.addEventListener('keydown', handleKeyDown);
  return () => window.removeEventListener('keydown', handleKeyDown);
}, [isOpen, handleSubmit]);
```

## Troubleshooting

<AccordionGroup>
  <Accordion title="Widget not appearing">
    - Verify the component is imported and rendered in your app.
    - Check that Tailwind CSS or your styling solution is properly configured.
    - Ensure the z-index values do not conflict with other fixed elements.
  </Accordion>

  <Accordion title="401 authentication error">
    - Verify your API token starts with `mint_dsc_`.
    - Check the token is correctly set in your environment variables.
    - Confirm you are using the public assistant API token, not the admin API key.
    - Restart your development server after adding environment variables.
  </Accordion>

  <Accordion title="No responses from assistant">
    - Verify your project domain is correct.
    - Check that your Mintlify plan includes the assistant feature.
    - Confirm your documentation site is published and accessible.
    - Verify the assistant API token is correctly set in your environment variables.
  </Accordion>

  <Accordion title="Debugging with browser console">
    Open developer tools and check the Network tab to troubleshoot:
    - Look for 401 or 403 authentication errors
    - Verify API requests are reaching `https://api-dsc.mintlify.com/v1/assistant/{domain}/message`
    - Check the response status and error messages
  </Accordion>
</AccordionGroup>
